<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="/vista/plantilla.xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:pe="http://primefaces.org/ui/extensions"
    >

    <ui:param name="backingBean" value="#{proyectoController}"/>
    <ui:param name="tituloPagina" value=""/>
    <ui:define name="editar"/> 
    <ui:define name="contenido">
        <script type="text/javascript" src="resources/js/proyectoVinculacion.js"/>


        <style>
            .ui-panel .ui-panel-content {
                padding: 0;
            }            
            .col1_adquisicion {
                width: 95px;
            }
            .col1_objetivos {
                width: 80px;
            }
            .hide-column-names table thead tr {
                display: none;
            }
            .button {

                background-color: Transparent;background-repeat:no-repeat;border: none;cursor:pointer;overflow: hidden;

            }            
        </style>

        <h:form id="formPrincipal1" enctype="multipart/form-data">
            <p:panel id="panelBase" header="Proyectos Vinculación" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                <p:growl id="message" showDetail="true" life="3000"></p:growl>            
                <h:panelGrid columns="3"> 
                    <p:commandButton id="btnListarProyectos" value="Listar Proyectos"
                                     rendered="#{!proyectoController.botonInicio}"
                                     title="Listar Proyectos"  icon="ui-icon-arrowreturnthick-1-w"
                                     update=":formPrincipal:formPrincipal1:panelBase">
                        <p:ajax update=":formPrincipal:formPrincipal1:panelBase" listener="#{proyectoController.listarProyectos}"/>
                    </p:commandButton>

                    <h:outputText  value ="#{proyectoController.nombreProySeleccionado}"/> 
                </h:panelGrid>
                <p:panel id="inicio" visible="#{proyectoController.botonInicio}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Seleccione el Programa:" for="selPrograma"/>
                        <p:selectOneMenu id="selPrograma" value="#{proyectoController.codProgramaSelected}" style="width:100%;" required="#{not empty param['formPrincipal:formPrincipal1:btnAgregarProyecto']}" requiredMessage="Debe seleccionar un Programa">
                            <f:selectItem itemLabel="[[-Seleccione un item-]]" itemValue="" noSelectionOption="true"/>
                            <f:selectItems value="#{proyectoController.programaList}" var="prog" itemValue="#{prog.sprvId}" itemLabel="#{prog.sprvNombre}" />
                            <p:ajax event="change" update=":formPrincipal:formPrincipal1:dtProyectos, :formPrincipal:formPrincipal1:btnAgregarProyecto" listener="#{proyectoController.seleccionarPrograma()}" />
                        </p:selectOneMenu>
                        <p:message for="selPrograma"></p:message>
                    </h:panelGrid> 
                    <h:panelGrid columns="2">
                        <h:outputLabel value="Listado de Proyectos"/>
                        <p:commandButton id="btnAgregarProyecto" value="Agregar Proyecto" icon="ui-icon-plus" 
                                         title="Agregar Información"  actionListener="#{proyectoController.agregarProyecto}"  
                                         update=":formPrincipal:formPrincipal1:panelBase">
                        </p:commandButton>

                    </h:panelGrid>

                    <p:dataTable id="dtProyectos" value="#{proyectoController.proyectoList}" var="d" 
                                 paginator="true" rows="15" rowIndexVar="index" resizableColumns="true"
                                 emptyMessage="No se encontraron resultados">
                        <p:column headerText="Ord." style="width:20px;text-align: center" sortBy="#{d.id}">
                            <h:outputText value="#{index + 1}" />
                        </p:column>
                        <p:column headerText="Nombre" style="white-space: pre-line" sortBy="#{d.nombre}">
                            <h:outputText  value ="#{d.nombre}"/> 
                        </p:column>
                        <p:column headerText="Seleccione" style="width: 70px; text-align: center">
                            <p:commandButton icon="ui-icon-circle-check" 
                                             title="Seleccionar Proyecto" action="#{proyectoController.seleccionarProyecto()}"
                                             update=":formPrincipal:formPrincipal1:panelBase" process="@this">
                                <f:setPropertyActionListener value="#{d}" target="#{proyectoController.proyectoSelected}"/>
                            </p:commandButton>
                        </p:column>
                    </p:dataTable>
                </p:panel>



                <p:tabView id="tabViewPrincipal" activeIndex="#{proyectoController.indiceTabActivo}" scrollable="false" rendered="#{!proyectoController.botonInicio}" style="width: 100%; height: 100%" dynamic="true" effect="fold" effectDuration="fast">
                    <!--tab: Perfil Proyecto-->
                    <p:tab title="Perfil Proyecto" >
                        <p:tabView id="tabP" activeIndex="#{proyectoController.indiceTabActivo}" scrollable="false" orientation="left" rendered="#{!proyectoController.botonInicio}" style="width: 100%; height: 100%" dynamic="true" effect="slide" effectDuration="fast">
                            <p:ajax event="tabChange" listener="#{proyectoController.cambiarTabPerfil}"
                                    update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel1,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel2,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel3,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel4,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel5,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel6,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel9,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel13,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel14,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel15,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel16,
                                    :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel17"
                                    >
                            </p:ajax>

                            <!--tab1: Datos Generales-->
                            <p:tab title="Datos Generales" id="tabP1">
                                <p:panel id="panel1" style="border: hidden">

                                    <h:panelGrid columns="3" cellpadding="7" id="h1">
                                        <p:commandButton id="btnGrabarP1" value="Grabar" icon="ui-icon-locked" 
                                                         title="Graba Información" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP, :formPrincipal:formPrincipal1:message" 
                                                         action="#{proyectoController.registraP1()}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton value="Eliminar" icon="ui-icon-closethick" style="margin: 0; font-size: 11px; float: left" disabled="#{proyectoController.proyectoSelected.id==null}"
                                                         rendered="false"
                                                         title="Eliminar Programa" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h1,:formPrincipal:formPrincipal1:panelBase,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput1"
                                                         onclick="PF('dialogDeleteProyecto').show();" process="@this"
                                                         >
                                        </p:commandButton>                                        
                                        <p:commandButton value="Imprimir" icon="ui-icon-print" style="margin: 0; font-size: 11px; float: left" disabled="#{proyectoController.proyectoSelected.id==null}"
                                                         rendered="false"
                                                         title="Imprimir Programa" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h1,:formPrincipal:formPrincipal1:panelBase,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput1"
                                                         process="@this"
                                                         >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <h:panelGrid id="pInput1" columns="2" cellspacing="5">
                                        <p:outputLabel value="Código:"/>
                                        <p:outputLabel id="lblCodigo" value="ABC000"/>

                                        <h:outputLabel value="Nombre:"/>
                                        <h:panelGrid columns="2">
                                            <p:inputTextarea id="txtNombreProyecto" value="#{proyectoController.proyectoSelected.nombre}" maxlength="150" rows="2" cols="80" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP1']}"></p:inputTextarea>
                                            <p:message for="txtNombreProyecto"></p:message>
                                        </h:panelGrid>

                                        <h:outputLabel value="Población Beneficiaria:"/>
                                        <h:panelGrid columns="2">
                                            <p:selectOneRadio id="selTipoPoblacion" value="#{proyectoController.proyectoSelected.tipoPoblacion.prdId}" 
                                                              required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP1']}"
                                                              valueChangeListener="#{proyectoController.seleccionarTipoPoblacion}">
                                                <f:selectItems value="#{proyectoController.paramTipoPoblacionList}" var="tipoPob" itemValue="#{tipoPob.prdId}" itemLabel="#{tipoPob.prdDescripcion}" />
                                            </p:selectOneRadio>
                                            <p:message for="selTipoPoblacion"></p:message>
                                        </h:panelGrid>

                                    </h:panelGrid>


                                    <p:spacer height="30"></p:spacer>
                                    <h:outputText value="PLAZO DE EJECUCIÓN"/>
                                    <h:panelGrid  columns="3" cellpadding="2" >
                                        <p:outputLabel value="Fecha de Inicio (dd/mm/aaaa):" for="fechaInicioProyecto" />
                                        <p:calendar id="fechaInicioProyecto" navigator="true" value="#{proyectoController.proyectoSelected.fechaInicio}" yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                                    required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP1']}">
                                            <p:ajax event="dateSelect" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:lblDuracionProyecto" />
                                        </p:calendar>
                                        <p:message for="fechaInicioProyecto"></p:message>

                                        <p:outputLabel value="Fecha de Finalización (dd/mm/aaaa):" for="fechaFinProyecto"/>
                                        <p:calendar id="fechaFinProyecto" navigator="true" value="#{proyectoController.proyectoSelected.fechaFinalizacion}" yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                                    required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP1']}">
                                            <p:ajax event="dateSelect" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:lblDuracionProyecto" />
                                        </p:calendar>
                                        <p:message for="fechaFinProyecto"></p:message>

                                        <h:outputLabel value="Duración:"/>
                                        <h:outputLabel id="lblDuracionProyecto" value="#{proyectoController.proyectoSelected.duracion}"/>

                                        <p:spacer height="15"></p:spacer>


                                    </h:panelGrid>

                                    <p:spacer height="30"></p:spacer>
                                    <h:panelGrid columns="2">
                                        <p:outputLabel value="DATOS DEL DIRECTOR" style="font-size: 14px"/>
                                        <p:message for="lblNombreDirectorProyecto"></p:message> 
                                    </h:panelGrid>
                                    <h:panelGrid columns="1">
                                        <h:outputText value="(Ingrese nombres y apellidos a buscar)"/>
                                        <p:autoComplete minQueryLength="3" value="#{proyectoController.nomDocenteBusqueda}" completeMethod="#{proyectoController.completeText}" size="70" required="true">
                                            <p:ajax event="itemSelect" listener="#{proyectoController.onItemSelect}"  update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP1, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:datosResp"/>
                                        </p:autoComplete>
                                    </h:panelGrid>
                                    <h:panelGrid id="datosResp"  columns="2" cellpadding="2" > 
                                        <p:outputLabel value="Nombres:" for="lblNombreDirectorProyecto"/>
                                        <p:outputLabel id="lblNombreDirectorProyecto" value="#{proyectoController.docenteSelected.usuNombres}" style="width:300px; font: xx-small; font-weight: normal"/>

                                        <h:outputLabel value="Apellidos:" style="text-align: left"/>
                                        <p:outputLabel value="#{proyectoController.docenteSelected.usuApellidos}" style="width:300px; font: xx-small; font-weight: normal"/>

                                        <h:outputLabel value="Cargo:" style="text-align: left"/>
                                        <p:outputLabel value="#{proyectoController.docenteSelected.cargo}" style="width:300px;"/>

                                        <h:outputLabel value="Departamento:" style="text-align: left"/>
                                        <p:outputLabel value="#{proyectoController.docenteSelected.departamento}" style="width:300px;"/>

                                        <h:outputLabel value="Correo Electrónico:" style="text-align: left"/>
                                        <p:inputText value="#{proyectoController.docenteSelected.usuEmail}" maxlength="50" required="false" disabled="false" style="width: 260px"> 
                                            <p:ajax event="keyup" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP1" listener="#{proyectoController.validarVaciosP1}"/>
                                        </p:inputText>
                                        <p:outputLabel for="telefUsu" value="Teléfono:" style="white-space: pre-line" /> 
                                        <p:inputText id="telefUsu" value="#{proyectoController.docenteSelected.usuTelefonoFijo}" maxlength="10" autocomplete="off" required="false" disabled="false" style="width: 80px">
                                            <p:ajax event="keyup" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP1" listener="#{proyectoController.validarVaciosP1}"/>
                                        </p:inputText>
                                    </h:panelGrid>                                         
                                </p:panel>
                            </p:tab>


                            <!--tab3: Cobertura y Localización-->
                            <p:tab title="Cobertura y Localización" id="tabP3" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel3" style="border: hidden">
                                    <h:panelGrid id="h3" columns="2" cellpadding="5">
                                        <p:commandButton id="btnGrabarP3" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " 
                                                         title="Graba Información" action="#{proyectoController.registraP3()}" disabled="#{!proyectoController.datosCompletos}"
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h3, :formPrincipal:formPrincipal1:message"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                         >
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP3" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                         title="Cancela Información" 
                                                         disabled="#{!proyectoController.datosCompletos}"
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h3,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:treeLocalizacion" 
                                                         action="#{proyectoController.cancelarP3}">
                                        </p:commandButton>

                                    </h:panelGrid>
                                    <p:panel id="vinPCobertura" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">


                                        <p:tree id="treeLocalizacion" value="#{proyectoController.root3}" var="doc"
                                                selectionMode="checkbox"
                                                selection="#{proyectoController.selectedNodes2}">
                                            <p:ajax event="select" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h3" listener="#{proyectoController.validarVaciosP3()}" />
                                            <p:ajax event="unselect" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h3" listener="#{proyectoController.validarVaciosP3()}"/>
                                            <p:treeNode>
                                                <h:outputText value="#{doc.nombre}"/>
                                            </p:treeNode>
                                            <p:treeNode>
                                                <h:outputText value="#{doc.nombre}" />
                                            </p:treeNode>
                                        </p:tree>



                                    </p:panel>
                                </p:panel>
                            </p:tab>    



                            <!--tab2: Origen de los fondos-->
                            <p:tab title="Origen de los fondos" id="tabP2" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel2" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h2">
                                        <p:commandButton id="btnGrabarP2" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h2,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput2,:formPrincipal:formPrincipal1:message" 
                                                         action="#{proyectoController.registraP1()}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP2" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         process="@this"
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h2,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput2" 
                                                         action="#{proyectoController.cancelarP1}">
                                        </p:commandButton>

                                    </h:panelGrid>
                                    <h:panelGrid columns="3" cellpadding="5" id="pInput2">
                                        <p:outputLabel value="Presupuesto Aporte Universidad (asignación presupuestaria):" for="txtPresupuestoUniv" />
                                        <pe:inputNumber id="txtPresupuestoUniv" value="#{proyectoController.proyectoSelected.presupuestoAporteUniv}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP2']}">
                                            <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtPresupuestoTotal"/>
                                        </pe:inputNumber>
                                        <p:message for="txtPresupuestoUniv"></p:message>

                                        <p:outputLabel value="Presupuesto Aporte Universidad Valorado (sin asignación presupuestaria):" for="txtPresupuestoUnivValorado"/>
                                        <pe:inputNumber id="txtPresupuestoUnivValorado" value="#{proyectoController.proyectoSelected.presupuestoAporteUnivValorado}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP2']}">
                                            <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtPresupuestoTotal"/>
                                        </pe:inputNumber>
                                        <p:message for="txtPresupuestoUnivValorado"></p:message>

                                        <p:outputLabel value="Presupuesto Entidad Auspiciante:" for="txtPresupuestoEntidadAuspiciante"/>
                                        <pe:inputNumber id="txtPresupuestoEntidadAuspiciante" value="#{proyectoController.proyectoSelected.presupuestoEntidadAuspiciante}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP2']}">
                                            <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtPresupuestoTotal"/>
                                        </pe:inputNumber>
                                        <p:message for="txtPresupuestoEntidadAuspiciante"></p:message>

                                        <p:outputLabel value="Presupuesto contraparte - Comunidad beneficiaria:" for="txtPresupuestoContraparte"/>
                                        <pe:inputNumber id="txtPresupuestoContraparte" value="#{proyectoController.proyectoSelected.presupuestoContraparte}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP2']}">
                                            <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtPresupuestoTotal"/>
                                        </pe:inputNumber>
                                        <p:message for="txtPresupuestoContraparte"></p:message>

                                        <p:outputLabel value="Presupuesto Total:" />
                                        <p:inputText id="txtPresupuestoTotal" value="#{proyectoController.proyectoSelected.presupuestoTotal}" disabled="true" style="width: 70px">
                                            <f:convertNumber locale="es_ES"  pattern="#,##0.00" />
                                        </p:inputText>                                        
                                    </h:panelGrid> 
                                </p:panel>
                            </p:tab>                            



                            <!--tab4: Detalle de entregables del proyecto-->
                            <p:tab title="Detalle de entregables del proyecto" id="tabP4" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel4" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h4">
                                        <p:commandButton id="btnGrabarP4" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h4,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput4,:formPrincipal:formPrincipal1:message" 
                                                         action="#{proyectoController.registraP1()}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP4" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         process="@this"
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h4,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput4" 
                                                         action="#{proyectoController.cancelarP1}">
                                        </p:commandButton>

                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="5" id="pInput4">
                                        <p:outputLabel value="Bienes:" for="txtBienes"/>
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="txtBienes" cols="160" rows="5" value="#{proyectoController.proyectoSelected.bienes}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP4']}"></p:inputTextarea>                             
                                        <p:message for="txtBienes"></p:message>

                                        <p:outputLabel value="Servicios:" for="txtServicios"/>
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="txtServicios" cols="160" rows="5" value="#{proyectoController.proyectoSelected.servicios}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP4']}"></p:inputTextarea> 
                                        <p:message for="txtServicios"></p:message>

                                        <p:outputLabel value="Bienes y Servicios" for="txtBienesServicios"/>
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="txtBienesServicios" cols="160" rows="5" value="#{proyectoController.proyectoSelected.bienesServicios}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP4']}"></p:inputTextarea> 
                                        <p:message for="txtBienesServicios"></p:message>
                                    </h:panelGrid> 
                                </p:panel>
                            </p:tab>                            



                            <!--tab14: Detalle de adquisiciones del proyecto-->
                            <p:tab title="Detalle de adquisiciones del proyecto" id="tabP14" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel14" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h14">
                                        <p:commandButton id="btnAgregarP14" value="Agregar" icon="ui-icon-plus" 
                                                         title="Agregar Información"  actionListener="#{proyectoController.agregarP14}" rendered="#{!proyectoController.controlGrabar}" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h14,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p14">
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:panel id="p14" visible="#{proyectoController.controlGrabar}" style="border: hidden; padding-left: 30px">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP14" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p14,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h14,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTAdqusicion, :formPrincipal:formPrincipal1:message" 
                                                             action="#{proyectoController.registraP14}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP14" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" process="@this"                                                             
                                                             title="Cancela Información" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p14,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h14" action="#{proyectoController.cancelarP14}">
                                            </p:commandButton>
                                        </h:panelGrid>  
                                        <h:panelGrid columns="1" cellpadding="0" id="pInput14">
                                            <h:panelGrid columns="3" cellpadding="5" columnClasses="col1_adquisicion">
                                                <p:outputLabel value="Tipo Adquisición:" for="selTipoAdquisicion"/>
                                                <p:selectOneMenu id="selTipoAdquisicion" value="#{proyectoController.adquisicionProyectoSelected.tipoAdquisicion.prdId}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP14']}" style="width:220px;"
                                                                 valueChangeListener="#{proyectoController.seleccionarTipoAdquisicion}">
                                                    <f:selectItem itemLabel="[[-Seleccione un item-]]" itemValue="0" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoController.paramTipoAdquisicionProyectoList}" var="tipoAdq" itemValue="#{tipoAdq.prdId}" itemLabel="#{tipoAdq.prdDescripcion}" />
                                                </p:selectOneMenu>
                                                <p:message for="selTipoAdquisicion"></p:message>
                                            </h:panelGrid>


                                            <h:panelGrid columns="7" cellpadding="5" columnClasses="col1_adquisicion">
                                                <p:outputLabel value="% Nacional:" for="txtPorcentajeNacional" />
                                                <pe:inputNumber id="txtPorcentajeNacional" value="#{proyectoController.adquisicionProyectoSelected.porcentajeNacional}" decimalPlaces="2" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP14']}">  </pe:inputNumber>
                                                <p:message for="txtPorcentajeNacional"></p:message>
                                                <p:spacer height="1" width="10"></p:spacer>
                                                <p:outputLabel value="% Importado:" for="txtPorcentajeImportado"/>
                                                <pe:inputNumber id="txtPorcentajeImportado" value="#{proyectoController.adquisicionProyectoSelected.porcentajeImportado}" decimalPlaces="2" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP14']}">  </pe:inputNumber>         
                                                <p:message for="txtPorcentajeImportado"></p:message>

                                            </h:panelGrid>

                                            <h:panelGrid columns="3" cellpadding="5" columnClasses="col1_adquisicion">
                                                <p:outputLabel value="Detalle insumo Nacional:" for="txtInsumoNacional"/>
                                                <p:inputTextarea id="txtInsumoNacional" rows="3" cols="80" value="#{proyectoController.adquisicionProyectoSelected.detalleInsumoNacional}" maxlength="250" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP14']}"></p:inputTextarea>
                                                <p:message for="txtInsumoNacional"></p:message>

                                                <p:outputLabel value="Detalle insumo Importado:" for="txtInsumoImportado"/>
                                                <p:inputTextarea id="txtInsumoImportado" rows="3" cols="80" value="#{proyectoController.adquisicionProyectoSelected.detalleInsumoImportado}" maxlength="250" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP14']}"></p:inputTextarea>                             
                                                <p:message for="txtInsumoImportado"></p:message>
                                            </h:panelGrid>
                                        </h:panelGrid>


                                    </p:panel>                                    
                                    <h:outputLabel for="dataTAdqusicion" value="Detalle de adquisiciones del proyecto"/>
                                    <p:dataTable id="dataTAdqusicion" value="#{proyectoController.adquisicionProyectoList}" var="adq" paginator="true"
                                                 rows="10" rowIndexVar="index" resizableColumns="true"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:column headerText="Ord." width="10">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Tipo" width="40" sortBy="#{adq.tipoAdquisicion.prdDescripcion}">
                                            <h:outputText value="#{adq.tipoAdquisicion.prdDescripcion}" style="white-space: pre-line"/>
                                        </p:column>

                                        <p:column headerText="% Nacional" width="30" style="white-space:pre-line" sortBy="#{adq.porcentajeNacional}"> 
                                            <h:outputText value="#{adq.porcentajeNacional}" style="white-space: pre-line;"> 
                                                <f:convertNumber locale="es_ES"  pattern="#,##0.00" />
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="% Importado" width="30" style="white-space:pre-line" sortBy="#{adq.porcentajeImportado}"> 
                                            <h:outputText value="#{adq.porcentajeImportado}" style="white-space: pre-line;"> 
                                                <f:convertNumber locale="es_ES"  pattern="#,##0.00" />
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="Detalle insumo Nacional" width="70" style="white-space: pre-line;" sortBy="#{adq.detalleInsumoNacional}">
                                            <h:outputText value="#{adq.detalleInsumoNacional}" style="white-space: pre-line"/>                                    
                                        </p:column>
                                        <p:column headerText="Detalle insumo Importado" style="width: 70px;" sortBy="#{adq.detalleInsumoImportado}">
                                            <h:outputText value="#{adq.detalleInsumoImportado}" style="white-space: pre-line"/>                                    
                                        </p:column>


                                        <p:column headerText="Editar" width="15" style="text-align: center">
                                            <p:commandButton icon="ui-icon-pencil"
                                                             title="Editar el registro" action="#{proyectoController.seleccionarEdicion }"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h14,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p14"
                                                             oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtPorcentajeNacional').focus();">
                                                <f:setPropertyActionListener value="#{adq}" target="#{proyectoController.adquisicionProyectoSelected}"/>
                                            </p:commandButton>

                                        </p:column>

                                        <p:column headerText="Eliminar" width="15" style="text-align: center">
                                            <p:commandButton title="Eliminar el registro" icon="ui-icon-trash"
                                                             onclick="PF('dialogDeleteAdquisicionProyecto').show();" process="@this" >
                                                <f:setPropertyActionListener value="#{adq}" target="#{proyectoController.adquisicionProyectoSelected}"/>
                                            </p:commandButton>
                                        </p:column>
                                    </p:dataTable>

                                </p:panel>
                            </p:tab>

                            <!--tab9: Diagnóstico y Problema-->
                            <p:tab title="Diagnóstico y Problema" id="tabP9" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel9" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h9"> 
                                        <p:commandButton id="btnGrabarP9" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h9,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput9, :formPrincipal:formPrincipal1:message" 
                                                         action="#{proyectoController.registraP1}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP9" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         process="@this"
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h9,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput9" 
                                                         action="#{proyectoController.cancelarP1}">
                                        </p:commandButton>

                                    </h:panelGrid>
                                    <h:panelGrid columns="1" cellpadding="2" id="pInput9">
                                        <h:panelGrid columns="2" cellpadding="2" >
                                            <h:panelGrid columns="2">
                                                <p:outputLabel value="Descripción de la situación actual del área de intervención del proyecto:" for="txtAreaIntervencion"/>
                                                <img src="#{request.contextPath}/resources/images/ayuda_rapida.png" style="width: 15px; cursor: pointer" title="Si es asi, el campus al cual pertenece el programa (seleccionado en Datos Generales) debería también poder agregarse como entidad ejecutora o validar que pueda seleccionar cualquier otra excepto esta"/>
                                            </h:panelGrid>
                                            <p:spacer height="1"></p:spacer>
                                            <p:inputTextarea id="txtAreaIntervencion" cols="160" rows="4"  value="#{proyectoController.proyectoSelected.areaIntervencion}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}"></p:inputTextarea> 
                                            <p:message for="txtAreaIntervencion"></p:message>

                                            <p:outputLabel value="Identificación, descripción y diagnóstico del problema:" for="txtDiagnosticoProblema"/>
                                            <p:spacer height="1"></p:spacer>
                                            <p:inputTextarea id="txtDiagnosticoProblema" cols="160" rows="4" value="#{proyectoController.proyectoSelected.diagnosticoProblema}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}"></p:inputTextarea>  
                                            <p:message for="txtDiagnosticoProblema"></p:message>

                                            <p:outputLabel value="Línea Base del proyecto:" for="txtLineaBase"/>
                                            <p:spacer height="1"></p:spacer>
                                            <p:inputTextarea id="txtLineaBase" cols="160" rows="4" value="#{proyectoController.proyectoSelected.lineaBase}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}"></p:inputTextarea>
                                            <p:message for="txtLineaBase"></p:message>

                                            <p:outputLabel value="Factores críticos de éxito:" for="txtFactoresCriticos"/>
                                            <p:spacer height="1"></p:spacer>
                                            <p:inputTextarea id="txtFactoresCriticos" cols="160" rows="4" value="#{proyectoController.proyectoSelected.factoresCriticos}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}"></p:inputTextarea> 
                                            <p:message for="txtFactoresCriticos"></p:message>

                                            <p:outputLabel value="Restricciones/Supuestos::" for="txtRestricciones"/>
                                            <p:spacer height="1"></p:spacer>
                                            <p:inputTextarea id="txtRestricciones" cols="160" rows="4" value="#{proyectoController.proyectoSelected.restricciones}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}"></p:inputTextarea> 
                                            <p:message for="txtRestricciones"></p:message>

                                            <h:outputLabel value="Identificación y caracterización de la población objetivo (beneficiarios):"/>
                                        </h:panelGrid>
                                        <h:panelGrid columns="5">

                                            <p:spacer height="1"></p:spacer>
                                            <p:outputLabel value="Hombres"/>
                                            <p:outputLabel value="Mujeres"/>
                                            <p:outputLabel value="Personas con capacidades especiales"/>
                                            <p:outputLabel value="Total"/>

                                            <p:outputLabel value="DIRECTOS"/>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtDirectosHombres" value="#{proyectoController.proyectoSelected.nroBeneficiariosDirectosHombres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}">  
                                                    <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtTotalDirectos"/>
                                                </pe:inputNumber>
                                                <p:message for="txtDirectosHombres"></p:message>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtDirectosMujeres" value="#{proyectoController.proyectoSelected.nroBeneficiariosDirectosMujeres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}">  
                                                    <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtTotalDirectos"/>
                                                </pe:inputNumber>
                                                <p:message for="txtDirectosMujeres"></p:message>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtDirectosDiscapac" value="#{proyectoController.proyectoSelected.nroBeneficiariosDirectosDiscapac}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}">  
                                                    <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtTotalDirectos"/>
                                                </pe:inputNumber>
                                                <p:message for="txtDirectosDiscapac"></p:message>
                                            </h:panelGrid>
                                            <p:inputText id="txtTotalDirectos" value="#{proyectoController.proyectoSelected.totalDirectos}" disabled="true" style="width: 70px">
                                                <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                            </p:inputText>

                                            <p:outputLabel value="INDIRECTOS"/>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtIndirectosHombres" value="#{proyectoController.proyectoSelected.nroBeneficiariosIndirectosHombres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}">  
                                                    <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtTotalIndirectos"/>
                                                </pe:inputNumber>
                                                <p:message for="txtIndirectosHombres"></p:message>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtIndirectosMujeres" value="#{proyectoController.proyectoSelected.nroBeneficiariosIndirectosMujeres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}">  
                                                    <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtTotalIndirectos"/>
                                                </pe:inputNumber>
                                                <p:message for="txtIndirectosMujeres"></p:message>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtIndirectosDiscapac" value="#{proyectoController.proyectoSelected.nroBeneficiariosIndirectosDiscapac}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP9']}">  
                                                    <p:ajax event="change" update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtTotalIndirectos"/>
                                                </pe:inputNumber>
                                                <p:message for="txtIndirectosDiscapac"></p:message>
                                            </h:panelGrid>
                                            <p:inputText id="txtTotalIndirectos" value="#{proyectoController.proyectoSelected.totalIndirectos}" disabled="true" style="width: 70px">
                                                <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                            </p:inputText>
                                        </h:panelGrid>
                                    </h:panelGrid>

                                </p:panel>

                            </p:tab>                            



                            <!--tab5: Docentes participantes-->
                            <p:tab title="Docentes participantes" id="tabP5" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel5" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h5">
                                        <p:commandButton id="btnAgregarP5" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h5,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p5"
                                                         actionListener="#{proyectoController.agregarP5}" 
                                                         rendered="#{!proyectoController.controlGrabar}" 

                                                         >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:panel id="p5" visible="#{proyectoController.controlGrabar}" style="border: hidden; padding-left: 30px">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP5" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel5, :formPrincipal:formPrincipal1:message" 
                                                             action ="#{proyectoController.registraP5}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP5" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                             process="@this"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel5" 
                                                             action="#{proyectoController.cancelarP5}">
                                            </p:commandButton>
                                        </h:panelGrid>  
                                        <h:panelGrid columns="3" cellpadding="5" id="pInput5" >
                                            <p:outputLabel value="Departamento:" for="selDepartamento"/>
                                            <p:selectOneMenu id="selDepartamento" 
                                                             required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP5']}" 
                                                             style="width:100%;" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             value="#{proyectoController.departamentoProyectoSelected.departamento}" 
                                                             >
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.departamentoList}" var="dep" itemLabel="#{dep.stvsubjDesc}" itemValue="#{dep}"  />
                                            </p:selectOneMenu>
                                            <p:message for="selDepartamento"></p:message>


                                            <p:outputLabel value="Nro. docentes participantes:" for="txtNroDocentesParticipantes"/>
                                            <pe:inputNumber id="txtNroDocentesParticipantes" value="#{proyectoController.departamentoProyectoSelected.nroDocentes}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP5']}">  </pe:inputNumber>                                          
                                            <p:message for="txtNroDocentesParticipantes"></p:message>

                                        </h:panelGrid>
                                    </p:panel>                        
                                    <h:outputLabel value="Docentes participantes"/>
                                    <p:dataTable id="dataTDocentesParticipantes" value="#{proyectoController.departamentoProyectoList}" var="docenteProyecto" paginator="true"
                                                 rows="10" rowIndexVar="index" resizableColumns="true"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:column headerText="Ord." width="20">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Departamento" sortBy="#{docenteProyecto.departamento.stvsubjDesc}">
                                            <h:outputText value="#{docenteProyecto.departamento.stvsubjDesc}" style="white-space: pre-line"/>                                    
                                        </p:column>
                                        <p:column headerText="Nro. docentes participantes" sortBy="#{docenteProyecto.nroDocentes}" width="100" style="white-space: pre-line; ">
                                            <h:outputText value="#{docenteProyecto.nroDocentes}" style="white-space: pre-line; float:right">  
                                                <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Editar" width="40" style="text-align: center">
                                            <p:commandButton icon="ui-icon-pencil"
                                                             title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h5,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p5"
                                                             oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtNroDocentesParticipantes').focus();">
                                                <f:setPropertyActionListener value="#{docenteProyecto}" target="#{proyectoController.departamentoProyectoSelected}"/>
                                            </p:commandButton>

                                        </p:column>

                                        <p:column headerText="Eliminar" width="40" style="text-align: center">
                                            <p:commandButton id="btnEliminarP5" title="Eliminar el registro" icon="ui-icon-trash"
                                                             onclick="PF('dialogDeleteDocenteProyecto').show();" process="@this" >
                                                <f:setPropertyActionListener value="#{docenteProyecto}" target="#{proyectoController.departamentoProyectoSelected}"/>
                                            </p:commandButton>
                                        </p:column>

                                        <p:columnGroup type="footer">
                                            <p:row>
                                                <p:column colspan="2" style="text-align:right" footerText="Total:" />
                                                <p:column footerText="#{proyectoController.totalDocentesParticipantes}" style="text-align: right" >
                                                </p:column>
                                            </p:row>
                                        </p:columnGroup>                                        
                                    </p:dataTable>
                                </p:panel>
                            </p:tab>                            


                            <!--tab6: Estudiantes participantes-->
                            <p:tab title="Estudiantes participantes" id="tabP6" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel6" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h6">
                                        <p:commandButton id="btnAgregarP6" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                         actionListener="#{proyectoController.agregarP6}" 
                                                         rendered="#{!proyectoController.controlGrabar}" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h6,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p6"
                                                         >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:panel id="p6" visible="#{proyectoController.controlGrabar}" style="border: hidden; padding-left: 30px">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP6" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel6, :formPrincipal:formPrincipal1:message" 
                                                             action ="#{proyectoController.registraP6}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP6" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                             process="@this"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel6" 
                                                             action="#{proyectoController.cancelarP6}">
                                            </p:commandButton>
                                        </h:panelGrid>   
                                        <h:panelGrid columns="3" cellpadding="5" id="pInput6">
                                            <p:outputLabel value="Carrera:" for="selCarrera"/>
                                            <p:autoComplete id="selCarrera" minQueryLength="1"
                                                            required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP6']}"
                                                            value="#{proyectoController.nomCarreraSeleccionada}" 
                                                            forceSelection="true"
                                                            dropdown="true"
                                                            completeMethod="#{proyectoController.buscarCarrera}" size="70">
                                            </p:autoComplete>
                                            <p:message for="selCarrera"></p:message>


                                            <p:outputLabel value="Nro. estudiantes participantes:" for="txtNroEstudiantesParticipantes"/>
                                            <pe:inputNumber id="txtNroEstudiantesParticipantes" value="#{proyectoController.carreraProyectoSelected.nroEstudiantes}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP6']}">  </pe:inputNumber>                                          
                                            <p:message for="txtNroEstudiantesParticipantes"></p:message>

                                        </h:panelGrid>
                                    </p:panel>                        
                                    <h:outputLabel value="Estudiantes participantes"/>
                                    <p:dataTable id="dataTEstudiantesParticipantes" value="#{proyectoController.carreraProyectoList}" var="carreraProyecto" paginator="true"
                                                 rows="10" rowIndexVar="index" resizableColumns="true"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:column headerText="Ord." width="20">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Carrera" sortBy="#{carreraProyecto.carrera.stvmajrDesc}">
                                            <h:outputText value="#{carreraProyecto.carrera.stvmajrDesc}" style="white-space: pre-line"/>                                    
                                        </p:column>
                                        <p:column headerText="Nro. estudiantes participantes" sortBy="#{carreraProyecto.nroEstudiantes}" width="100" style="white-space: pre-line">
                                            <h:outputText value="#{carreraProyecto.nroEstudiantes}" style="white-space: pre-line; float: right">     
                                                <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Editar" width="40" style="text-align: center">
                                            <p:commandButton icon="ui-icon-pencil"
                                                             title="Editar el registro" action="#{proyectoController.editarP6()}"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h6, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p6"
                                                             oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtNroEstudiantesParticipantes').focus();">
                                                <f:setPropertyActionListener value="#{carreraProyecto}" target="#{proyectoController.carreraProyectoSelected}"/>
                                            </p:commandButton>

                                        </p:column>

                                        <p:column headerText="Eliminar" width="40" style="text-align: center">
                                            <p:commandButton id="btnEliminarP5" title="Eliminar el registro" icon="ui-icon-trash"
                                                             onclick="PF('dialogDeleteEstudianteProyecto').show();" process="@this" >
                                                <f:setPropertyActionListener value="#{carreraProyecto}" target="#{proyectoController.carreraProyectoSelected}"/>
                                            </p:commandButton>
                                        </p:column>
                                        <p:columnGroup type="footer">
                                            <p:row>
                                                <p:column colspan="2" style="text-align:right" footerText="Total:" />
                                                <p:column footerText="#{proyectoController.totalEstudiantesParticipantes}" style="text-align: right" >
                                                </p:column>
                                            </p:row>
                                        </p:columnGroup>                                        

                                    </p:dataTable>
                                </p:panel>
                            </p:tab>                             

                            <!--tab15: Matriz del Marco Lógico-->
                            <p:tab title="Matriz del Marco Lógico" id="tabP15" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel15" style="border: hidden"> 
                                    <p:panel id="p15" visible="#{proyectoController.controlGrabar}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP15" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel15, :formPrincipal:formPrincipal1:message" 
                                                             action="#{proyectoController.registraP15}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP15" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" process="@this"
                                                             title="Cancela Información" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p15" action="#{proyectoController.cancelarP15(false)}">
                                            </p:commandButton>
                                        </h:panelGrid>  
                                        <h:panelGrid columns="3" cellpadding="5" id="pInput15" columnClasses="col1_objetivos">
                                            <p:outputLabel for="lblTipoMatriz" value="Tipo:"/>
                                            <p:outputLabel id="lblTipoMatriz" value="#{proyectoController.objetivoProyectoSelected.tipoStr}"></p:outputLabel>
                                            <p:message for="lblTipoMatriz"></p:message>


                                            <p:outputLabel value="Descripción" for="txtObjetivo15"/>
                                            <p:inputTextarea id="txtObjetivo15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopObjetivoProy}" maxlength="250" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP15']}"></p:inputTextarea>
                                            <p:message for="txtObjetivo15"></p:message>

                                            <p:outputLabel for="txtIndicador15" value="Indicador:" style="text-align: left"/>
                                            <p:inputTextarea id="txtIndicador15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopIndicador}" maxlength="250" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP15']}"></p:inputTextarea>                             
                                            <p:message for="txtIndicador15"></p:message>

                                            <p:outputLabel value="Medio de verificación:" for="txtIndicador15"/>
                                            <p:inputTextarea id="txtMedioVerificacion15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopMverifica}" maxlength="250" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP15']}"></p:inputTextarea>                             
                                            <p:message for="txtMedioVerificacion15"></p:message>

                                            <p:outputLabel for="txtSupuestos15" value="Supuestos:" />
                                            <p:inputTextarea id="txtSupuestos15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopSupuestos}" maxlength="250" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP15']}"></p:inputTextarea>                             
                                            <p:message for="txtSupuestos15"></p:message>

                                        </h:panelGrid>
                                    </p:panel>                         
                                    <h:outputLabel for="dataTObjetivos" value="Matriz del Marco Lógico"/>
                                    <p:dataTable id="dataTObjetivos" value="#{proyectoController.proyectoSelected.objetivoProyectoPadreList}" var="objetivoProyecto" paginator="false"
                                                 expandedRow="#{objetivoProyecto.expanded}" rows="10" rowIndexVar="index" resizableColumns="false"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoProyecto}"/> 
                                        <p:column style="width: 20px" rendered="false">
                                            <p:rowToggler rendered="#{objetivoProyecto.svopTipo!=1}"/>
                                        </p:column>
                                        <p:column headerText="Ord." width="20" >
                                            <h:outputText value="#{objetivoProyecto.svopOrden}"/>
                                        </p:column>
                                        <p:column headerText="Tipo" width="70">
                                            <h:outputText value="#{objetivoProyecto.tipoStr}" style="white-space: pre-line"/>
                                        </p:column>
                                        <p:column headerText="Descripción" width="140"> 
                                            <h:outputText value="#{objetivoProyecto.svopObjetivoProy}" style="white-space: pre-line;"/>
                                        </p:column>
                                        <p:column headerText="Indicador" width="140">
                                            <h:outputText value="#{objetivoProyecto.svopIndicador}" style="white-space: pre-line;"/>
                                        </p:column>
                                        <p:column headerText="Medio de verificación" width="140">
                                            <h:outputText value="#{objetivoProyecto.svopMverifica}" style="white-space: pre-line;"/>
                                        </p:column>
                                        <p:column headerText="Supuestos">
                                            <h:outputText value="#{objetivoProyecto.svopSupuestos}" style="white-space: pre-line;"/>
                                        </p:column>
                                        <p:column headerText="Editar" width="35" style ="text-align: center">
                                            <p:commandButton icon="ui-icon-pencil"
                                                             title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p15"
                                                             oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtObjetivo15').focus();">
                                                <f:setPropertyActionListener value="#{objetivoProyecto}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                            </p:commandButton>

                                        </p:column> 
                                        <p:column headerText="Eliminar" width="38" style="text-align: center" >
                                            <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                             disabled="#{objetivoProyecto.svopTipo==1 || objetivoProyecto.svopTipo==2}"
                                                             onclick="PF('dialogDeleteObjetivoProyecto').show();" process="@this">
                                                <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoSelected}" />
                                            </p:commandButton>   
                                        </p:column>

                                        <p:rowExpansion  >
                                            <p:panel style="border:hidden; width:95%; padding-left: 40px">
                                                <h:outputLabel value="Componentes (objetivos específicos):"/>
                                                <p:commandButton value="" title="Agregar Componente (Objetivo Específico)" icon="ui-icon-plus"
                                                                 style="width: 30px; height: 20px"
                                                                 action="#{proyectoController.agregarP15}"
                                                                 update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p15"
                                                                 oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtObjetivo15').focus();"
                                                                 >
                                                    <f:setPropertyActionListener value="#{objetivoProyecto}" target="#{proyectoController.objetivoProyectoPadreSelected}"/>
                                                </p:commandButton>
                                                <p:dataTable id="dataTComponentes" value="#{objetivoProyecto.svinObjetivoHijoList}" var="componente"
                                                             expandedRow="#{componente.expanded}" rowIndexVar="index" styleClass="hide-column-names"
                                                             emptyMessage="No existen registros"> 
                                                    <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoProyecto}"/>
                                                    <p:column style="width: 20px" rendered="false">
                                                        <p:rowToggler/> 
                                                    </p:column>
                                                    <p:column headerText="Ord." style="width:20px;">
                                                        <h:outputText value="#{componente.svopOrden}" />
                                                    </p:column>
                                                    <p:column headerText="Descripción" style="width: 180px"> 
                                                        <h:outputText value="#{componente.svopObjetivoProy}" style="white-space: pre-line;"/>
                                                    </p:column>
                                                    <p:column headerText="Indicador" style="width: 140px">
                                                        <h:outputText value="#{componente.svopIndicador}" style="white-space: pre-line;"/>
                                                    </p:column>
                                                    <p:column headerText="Medio de verificación" style="width: 140px">
                                                        <h:outputText value="#{componente.svopMverifica}" style="white-space: pre-line;"/>
                                                    </p:column>
                                                    <p:column headerText="Supuestos">
                                                        <h:outputText value="#{componente.svopSupuestos}" style="white-space: pre-line;"/>
                                                    </p:column>
                                                    <p:column headerText="Editar" style ="width: 30px; text-align: center">
                                                        <p:commandButton icon="ui-icon-pencil"
                                                                         title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p15"
                                                                         oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtObjetivo15').focus();">
                                                            <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                                        </p:commandButton>

                                                    </p:column>                                                    
                                                    <p:column headerText="Eliminar" style="width: 30px; text-align: center" >
                                                        <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                         onclick="PF('dialogDeleteObjetivoProyecto').show();" process="@this">
                                                            <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoSelected}" />
                                                        </p:commandButton>   
                                                    </p:column>
                                                    <p:rowExpansion >
                                                        <p:panel style="border:hidden;width:98%; padding-left: 30px"  >
                                                            <h:outputLabel value="Actividades:"/>
                                                            <p:commandButton value="" title="Agregar Actividad" icon="ui-icon-plus"
                                                                             style="width: 30px; height: 20px"
                                                                             oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtObjetivo15').focus();"
                                                                             action="#{proyectoController.agregarP15}"
                                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p15"
                                                                             >
                                                                <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoPadreSelected}"/>
                                                            </p:commandButton>

                                                            <p:dataTable id="dataTActividades" value="#{componente.svinObjetivoHijoList}" var="actividad"
                                                                         emptyMessage="No existen registros"
                                                                         rowIndexVar="index">
                                                                <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoProyecto}"/>
                                                                <p:column headerText="Ord." style="width:40px">
                                                                    <table style="width: 40px">
                                                                        <tr>
                                                                            <td style="padding: 0px; text-align: center; border: hidden">
                                                                                <h:outputText value="#{actividad.svopOrden}" />
                                                                            </td>
                                                                            <td style="padding: 0px; border: hidden">
                                                                                <table style="width: 20px">
                                                                                    <tr>
                                                                                        <td style="padding: 0px; border: hidden">
                                                                                            <p:commandButton icon="ui-icon-triangle-1-n"
                                                                                                             disabled="#{actividad.svopOrden==1}"
                                                                                                             style="width: 20px; height: 15px"
                                                                                                             title="Cambiar orden(Subir)" action="#{proyectoController.cambiarOrdenActividad(-1)}" 
                                                                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTObjetivos, :formPrincipal:formPrincipal1:message"
                                                                                                             >
                                                                                                <f:setPropertyActionListener value="#{actividad}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                                                                            </p:commandButton>                         
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="padding: 0px; border: hidden">
                                                                                            <p:commandButton icon="ui-icon-triangle-1-s"
                                                                                                             disabled="#{actividad.svopOrden==componente.nroHijos}"
                                                                                                             style="width: 20px; height: 15px"
                                                                                                             title="Cambiar orden(Bajar)" action="#{proyectoController.cambiarOrdenActividad(1)}"
                                                                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTObjetivos, :formPrincipal:formPrincipal1:message"
                                                                                                             >
                                                                                                <f:setPropertyActionListener value="#{actividad}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                                                                            </p:commandButton>                                                        
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </td>
                                                                        </tr>
                                                                    </table>                                                                    
                                                                </p:column>
                                                                <p:column headerText="Descripción" style="width: 120px"> 
                                                                    <h:outputText value="#{actividad.svopObjetivoProy}" style="white-space: pre-line;"/>
                                                                </p:column>
                                                                <p:column headerText="Indicador" style="width: 140px">
                                                                    <h:outputText value="#{actividad.svopIndicador}" style="white-space: pre-line;"/>
                                                                </p:column>
                                                                <p:column headerText="Medio de verificación" style="width: 140px">
                                                                    <h:outputText value="#{actividad.svopMverifica}" style="white-space: pre-line;"/>
                                                                </p:column>
                                                                <p:column headerText="Supuestos">
                                                                    <h:outputText value="#{actividad.svopSupuestos}" style="white-space: pre-line;"/>
                                                                </p:column>
                                                                <p:column headerText="Editar" style ="width: 30px; text-align: center">
                                                                    <p:commandButton icon="ui-icon-pencil"
                                                                                     title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                                                     update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p15"
                                                                                     oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtObjetivo15').focus();">
                                                                        <f:setPropertyActionListener value="#{actividad}"  target="#{proyectoController.objetivoProyectoSelected}"/>
                                                                    </p:commandButton>

                                                                </p:column>     
                                                                <p:column headerText="Eliminar" style="width: 30px; text-align: center" >
                                                                    <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                                     onclick="PF('dialogDeleteObjetivoProyecto').show();" process="@this">
                                                                        <f:setPropertyActionListener value="#{actividad}" target="#{proyectoController.objetivoProyectoSelected}" />
                                                                    </p:commandButton>   
                                                                </p:column>
                                                            </p:dataTable>
                                                        </p:panel>
                                                    </p:rowExpansion>                                                        
                                                </p:dataTable>
                                            </p:panel>
                                        </p:rowExpansion>                                        
                                    </p:dataTable>
                                </p:panel>
                            </p:tab>


                            <!--tab16: Alineamiento del Proyecto-Objetivos PLNBV-->
                            <p:tab title="Alineamiento del Proyecto-Objetivos PLNBV" id="tabP16" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel16" style="border: hidden">
                                    <h:panelGrid columns="1" cellspacing="5" id="h16">
                                        <p:commandButton id="btnAgregarP16" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h16, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p16" 
                                                         actionListener="#{proyectoController.agregarP16}" 
                                                         rendered="#{!proyectoController.controlGrabar}"
                                                         >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:panel id="p16" visible="#{proyectoController.controlGrabar}" style="padding-left: 30px; border: hidden; ">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP16" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel16, :formPrincipal:formPrincipal1:message" 
                                                             action="#{proyectoController.registraP16()}" 
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP16" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                             title="Cancela Información" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p16,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h16" 
                                                             action="#{proyectoController.cancelarP16(true, false)}">
                                            </p:commandButton>
                                        </h:panelGrid>  
                                        <h:panelGrid columns="2" cellpadding="5">                                                        
                                            <p:outputLabel for="objPlan" value="Seleccione el Objetivo del Plan Nacional del Buen Vivir"/>
                                            <p:spacer width="1" height="1"></p:spacer>
                                            <p:selectOneMenu id="objPlan" value="#{proyectoController.objBVivirPadre}" 
                                                             required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP16']}" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             style="width:460px;">
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.objBVivirPadreList}" var="objPadre" itemLabel="#{objPadre.svobviDescripcion}" itemValue="#{objPadre}"/>
                                                <p:ajax event="change" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:subojPlan1" listener="#{proyectoController.bsqSubObjetivos()}"/>
                                            </p:selectOneMenu>
                                            <p:message for="objPlan"></p:message>

                                            <p:outputLabel for="subojPlan1" value="Seleccione el Plan Nacional del Buen Vivir a agregar"/>
                                            <p:spacer width="1" height="1"></p:spacer>
                                            <p:selectOneMenu id="subojPlan1" value="#{proyectoController.objetivoBVivirSelected.objetivoBVivir}" 
                                                             required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP16']}" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             style="width:460px; ">
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.objBVivirHijoList}" var="subObj" itemLabel="#{subObj.svobviDescripcion}" itemValue="#{subObj}"/>
                                            </p:selectOneMenu>
                                            <p:message for="subojPlan1"></p:message>
                                        </h:panelGrid>                             
                                    </p:panel>                        

                                    <h:outputLabel value="¿A qué objetivos del Plan Nacional del Buen Vivir se respalda el Proyecto?"/>
                                    <p:dataTable id="dataTableObjPlan" value="#{proyectoController.proyectoSelected.objetivoBVivirProyectoPadreList}" var="proObjPlan" paginator="true"
                                                 expandedRow="#{proObjPlan.expanded}" rows="10" rowIndexVar="index" resizableColumns="true" emptyMessage="No se encontraron resultados" >
                                        <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoBVivir}"/>

                                        <p:column style="width: 20px">
                                            <p:rowToggler/>
                                        </p:column>
                                        <p:column headerText="Ord." style="width: 20px;">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Objetivo del Plan"  sortBy="#{proObjPlan.objetivoBVivir.svobviDescripcion}">
                                            <h:outputText value="#{proObjPlan.objetivoBVivir.svobviDescripcion}" style="white-space: pre-line" />
                                        </p:column>

                                        <p:rowExpansion >
                                            <p:panelGrid columns="1" style="border:hidden;width:95%; "  >
                                                <p:dataTable id="dtSubObj" value="#{proObjPlan.svinProgObjHijos}" var="subObjl"
                                                             rendered="#{not empty proObjPlan.svinProgObjHijos}"
                                                             rowIndexVar="index" style="width: 85%; padding-left: 60px">
                                                    <p:column headerText="Ord." style="width:20px">
                                                        <h:outputText value="#{index + 1}" />
                                                    </p:column>
                                                    <p:column headerText="Sub Objetivo del Programa" sortBy="#{subObjl.objetivoBVivir.svobviDescripcion}">
                                                        <h:outputText value="#{subObjl.objetivoBVivir.svobviDescripcion}" style="white-space: pre-line;width: 250px"/>                                                    
                                                    </p:column>

                                                    <p:column headerText="Eliminar " style="width: 50px; font-size: 11px; font-weight: bold; text-align: center" >
                                                        <p:commandButton id="btnEliminarP4" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                         onclick="PF('dialogDeleteObjetivosPlanBVivir').show();" process="@this">
                                                            <f:setPropertyActionListener value="#{subObjl}" target="#{proyectoController.objetivoBVivirSelected}" />
                                                        </p:commandButton>   
                                                    </p:column>
                                                </p:dataTable>
                                            </p:panelGrid>
                                        </p:rowExpansion>
                                    </p:dataTable>
                                </p:panel>
                            </p:tab>


                            <!--tab17: Alineamiento del Proyecto-Objetivos Estratégicos Institucionales-->
                            <p:tab title="Alineamiento del Proyecto-Objetivos Estratégicos Institucionales" id="tabP17" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel17" style="border: hidden">
                                    <h:panelGrid columns="1" cellspacing="0" cellpadding="5" id="h17">
                                        <p:commandButton id="btnAgregarP17" value="Agregar" title="Agregar Información" icon="ui-icon-plus"  
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p17,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h17" 
                                                         actionListener="#{proyectoController.agregarP17}" 
                                                         rendered="#{!proyectoController.controlGrabar}">
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:panel id="p17" visible="#{proyectoController.controlGrabar}" style="border: hidden;padding-left: 30px; ">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP17"  value="Grabar" title="Graba Información"  icon="ui-icon-locked" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel17, :formPrincipal:formPrincipal1:message" 
                                                             action="#{proyectoController.registraP17}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP17" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" process="@this"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p17,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h17" action="#{proyectoController.cancelarP17(true)}">
                                            </p:commandButton>
                                        </h:panelGrid>  
                                        <h:panelGrid columns="3" cellpadding="5">                                                       
                                            <p:outputLabel for="persProg" value="Perspectiva:"/>
                                            <p:selectOneMenu id="persProg" value="#{proyectoController.perspectivaSelected}" 
                                                             required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP17']}" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             style="width:460px">
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.perspectivasList}" var="perspectiva" itemLabel="#{perspectiva.soesiDescripcion}" itemValue="#{perspectiva}"/>
                                                <p:ajax event="change" 
                                                        update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:objEst, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:indProg, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:estInt" 
                                                        />
                                            </p:selectOneMenu>
                                            <p:message for="persProg"></p:message>

                                            <p:outputLabel for="objEst" value="Objetivo Estratégico:"/>
                                            <p:selectOneMenu id="objEst" value="#{proyectoController.objetivoEstrategicoSelected}" 
                                                             required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP17']}" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             style="width:460px">
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.perspectivaSelected.objetivoEstrategicoHijoList}" var="objEstrategxPer" itemLabel="#{objEstrategxPer.soesiDescripcion}" itemValue="#{objEstrategxPer}"/>
                                                <p:ajax event="change" 
                                                        update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:indProg, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:estInt" 
                                                        />
                                            </p:selectOneMenu> 
                                            <p:message for="objEst"></p:message>

                                            <p:outputLabel for="indProg" value="Indicador:" style="text-align: left"/>
                                            <p:selectOneMenu id="indProg" value="#{proyectoController.indicadorSelected}" 
                                                             required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP17']}" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             style="width:460px">
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.objetivoEstrategicoSelected.objetivoEstrategicoHijoList}" var="indicObj" itemLabel="#{indicObj.soesiDescripcion}" itemValue="#{indicObj}"/>
                                                <p:ajax event="change" update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:estInt"/>
                                            </p:selectOneMenu>
                                            <p:message for="indProg"></p:message>

                                            <p:outputLabel for="estInt" value="Estrategia Institucional:" style="text-align: left"/>
                                            <p:selectOneMenu id="estInt" value="#{proyectoController.objetivoEstrategicoProyectoSelected.objetivoEstrategico}" 
                                                             required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP17']}" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             style="width:460px;">
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.indicadorSelected.objetivoEstrategicoHijoList}" var="estInst" itemLabel="#{estInst.soesiDescripcion}" itemValue="#{estInst}"/>
                                            </p:selectOneMenu>
                                            <p:message for="estInt"></p:message>
                                        </h:panelGrid>                              
                                    </p:panel> 
                                    <h:outputLabel for="dataTableObjEstInt" value="¿A qué objetivos Estratégicos Institucionales apunta el Proyecto?:"/>
                                    <p:dataTable id="dataTableObjEstInt" value="#{proyectoController.proyectoSelected.objetivoEstrategicoList}" var="ob"
                                                 editable="true" paginator="true" rows="10" rowIndexVar="index"  resizableColumns="true" 
                                                 emptyMessage="No se encontraron resultados">
                                        <p:column headerText="Ord." style="width:20px">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Perspectivas" style="width: 100px;white-space:pre-line" sortBy="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}">
                                            <h:outputText value="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                        </p:column>
                                        <p:column headerText="Objetivos Estratégicos" style="width: 190px;white-space:pre-line" sortBy="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}">
                                            <h:outputText value="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                        </p:column>     
                                        <p:column headerText="Indicadores" style="white-space:pre-line" sortBy="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.soesiDescripcion}">                               
                                            <h:outputText value="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                        </p:column>
                                        <p:column headerText="Estrategias Institucionales" style="width: 160px;white-space:pre-line" sortBy="#{ob.objetivoEstrategico.soesiDescripcion}">
                                            <h:outputText value="#{ob.objetivoEstrategico.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                        </p:column>                         
                                        <p:column headerText="Eliminar" style="width: 40px;text-align: center">
                                            <p:commandButton id="btnEliminarP5" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                             onclick="PF('dialogDeleteObjetivoEstrategico').show();" process="@this" disabled="#{programaVinculacionController.programaSelected.sprvFechaFinReal!=null}">
                                                <f:setPropertyActionListener value="#{ob}" target="#{proyectoController.objetivoEstrategicoProyectoSelected}"/>
                                            </p:commandButton>
                                        </p:column>
                                    </p:dataTable>
                                </p:panel>
                            </p:tab>                            



                            <!--tab18: Alineamiento del Proyecto-Objetivos Provinciales, Cantonales o Paroquiales-->
                            <p:tab title="Alineamiento del Proyecto-Objetivos Provinciales, Cantonales o Paroquiales" id="tabP18" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel18" style="border: hidden">
                                    <h:panelGrid columns="1" cellspacing="0" cellpadding="5" id="h18">
                                        <p:commandButton id="btnEditarP18" value="Editar" title="Editar Información" icon="ui-icon-pencil" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel18" 
                                                         action="#{proyectoController.editarP18()}" 
                                                         rendered="#{!proyectoController.controlGrabar}" 
                                                         >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:panel id="p18" visible="#{proyectoController.controlGrabar}" style="border: hidden; ">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP18" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                             action="#{proyectoController.registraP18()}" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel18,:formPrincipal:formPrincipal1:message"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP18" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel18" 
                                                             action="#{proyectoController.cancelarP18}">
                                            </p:commandButton>
                                        </h:panelGrid>  
                                    </p:panel>                                  
                                    <h:outputLabel for="dataTableObjParroquiales" value="Objetivos Provinciales, Cantonales y Parroquiales:"/>
                                    <p:dataTable id="dataTableObjParroquiales" value="#{proyectoController.proyectoSelected.objetivosProvCanParr}" var="ob"
                                                 editable="true" style="width: 100%" paginator="true" rows="10" rowIndexVar="index"  resizableColumns="true" 
                                                 emptyMessage="No se encontraron resultados">

                                        <p:column headerText="Ord." style="width:20px">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Provincia" style="width: 100px;white-space:pre-line" sortBy="#{ob.nomProvincia}">
                                            <p:cellEditor> 
                                                <f:facet name="output"><h:outputText value="#{ob.nomProvincia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                                <f:facet name="input"><h:outputText value="#{ob.nomProvincia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                            </p:cellEditor>                              
                                        </p:column>
                                        <p:column headerText="Cantón" style="width: 100px;white-space:pre-line" sortBy="#{ob.nomCanton}">
                                            <p:cellEditor>
                                                <f:facet name="output"><h:outputText value="#{ob.nomCanton}" style="white-space: pre-line; width: 100%"/></f:facet>
                                                <f:facet name="input"><h:outputText value="#{ob.nomCanton}" style="white-space: pre-line; width: 100%"/></f:facet>
                                            </p:cellEditor>                               
                                        </p:column>     
                                        <p:column headerText="Parroquia" style="width: 150px;white-space:pre-line" sortBy="#{ob.nomParroquia}">                               
                                            <p:cellEditor>
                                                <f:facet name="output"><h:outputText value="#{ob.nomParroquia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                                <f:facet name="input"><h:outputText value="#{ob.nomParroquia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                            </p:cellEditor> 
                                        </p:column>
                                        <p:column headerText="Objetivo" style="white-space:pre-line" sortBy="#{ob.objetivos}" rendered="#{!proyectoController.controlGrabar}">
                                            <h:outputText value="#{ob.objetivos}" style="white-space: pre-line; width: 100%" />
                                        </p:column>                         
                                        <p:column headerText="Objetivo" style="white-space:pre-line" sortBy="#{ob.objetivos}" rendered="#{proyectoController.controlGrabar}">
                                            <p:inputTextarea rows="2" style="width: 100%" value="#{ob.objetivos}" autoResize="false" maxlength="1000"></p:inputTextarea>  
                                        </p:column>

                                    </p:dataTable> 
                                </p:panel>
                            </p:tab>


                            <!--tab13: Viabilidad y Plan de Sostenibilidad-->
                            <p:tab title="Viabilidad y Plan de Sostenibilidad" id="tabP13" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel13" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h13">
                                        <p:commandButton id="btnGrabarP13" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h13,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput13,:formPrincipal:formPrincipal1:message" 
                                                         action="#{proyectoController.registraP1()}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP13" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         process="@this"
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h13,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:pInput13" 
                                                         action="#{proyectoController.cancelarP1}">
                                        </p:commandButton>

                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="5" id="pInput13">
                                        <p:outputLabel  for="viaTecnica" value="Viabilidad Técnica:" />
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="viaTecnica" cols="160" rows="5" value="#{proyectoController.proyectoSelected.viabilidadTecnica}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP13']}"></p:inputTextarea>                             
                                        <p:message for="viaTecnica"></p:message>

                                        <p:outputLabel for="perdPais" value="¿Qué perdería el país si el proyecto no se ejecuta en este periodo?:"/>
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="perdPais" cols="160" rows="5" value="#{proyectoController.proyectoSelected.perderiaPais}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP13']}"></p:inputTextarea> 
                                        <p:message for="perdPais"></p:message>

                                        <p:outputLabel for="resulImp" value="¿Cuáles son los resultados o impactos esperados del proyecto?:"/>
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="resulImp" cols="160" rows="5" value="#{proyectoController.proyectoSelected.resultadosEsperados}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP13']}"></p:inputTextarea> 
                                        <p:message for="resulImp"></p:message>

                                        <p:outputLabel for="impactoAmb" value="¿Análisis de impacto ambiental?:"/>
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="impactoAmb" cols="160" rows="5" value="#{proyectoController.proyectoSelected.impactoAmbiental}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP13']}"></p:inputTextarea> 
                                        <p:message for="impactoAmb"></p:message>

                                        <p:outputLabel for="sostenibilidadSocial" value="Sostenibilidad social: equidad, género, participación ciudadana:"/>
                                        <p:spacer height="1"></p:spacer>
                                        <p:inputTextarea id="sostenibilidadSocial" cols="160" rows="5" value="#{proyectoController.proyectoSelected.sostenibilidadSocial}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP13']}"></p:inputTextarea> 
                                        <p:message for="sostenibilidadSocial"></p:message>

                                    </h:panelGrid> 
                                </p:panel>
                            </p:tab>

                            <!--tab7: Estrategia de Seguimiento y Evaluación-->
                            <p:tab title="Estrategia de Seguimiento y Evaluación" id="tabP7" disabled="#{proyectoController.proyectoSelected.id==null}">
                                <p:panel id="panel7" style="border: hidden">
                                    <h:panelGrid columns="2" cellpadding="7" id="h7">
                                        <p:commandButton id="btnAgregarP7" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                         actionListener="#{proyectoController.agregarP7}" 
                                                         rendered="#{!proyectoController.controlGrabar}" 
                                                         update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h7,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p7"
                                                         >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <p:panel id="p7" visible="#{proyectoController.controlGrabar}" style="border: hidden; padding-left: 30px">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                            <p:commandButton id="btnGrabarP7" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                             update=":formPrincipal:formPrincipal1:message" 
                                                             action ="#{proyectoController.registraP7}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton id="btnCancelarP7" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                             process="@this"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel7" 
                                                             action="#{proyectoController.cancelarP7}">
                                            </p:commandButton>
                                        </h:panelGrid>  
                                        <h:panelGrid columns="3" cellpadding="5" id="pInput7">
                                            <p:outputLabel value="Semestre:"  for="selSemestre"/>
                                            <h:panelGrid columns="2">
                                                <p:selectOneMenu id="selSemestre" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP7']}" style="width:100%;" 
                                                                 value="#{proyectoController.hitoProyectoSelected.semestre.prdId}" 
                                                                 valueChangeListener="#{proyectoController.seleccionarSemestre}">
                                                    >
                                                    <f:selectItem itemLabel="[[-Seleccione un item-]]" itemValue="0"/>
                                                    <f:selectItems value="#{proyectoController.paramSemestreList}" var="sem" itemValue="#{sem.prdId}" itemLabel="#{sem.prdDescripcion}" />
                                                </p:selectOneMenu>
                                                <p:message for="selSemestre"></p:message>
                                            </h:panelGrid>
                                            <p:spacer height="1"></p:spacer>

                                            <p:outputLabel value="Descripción:" for="txtDescHito"/>
                                            <p:inputTextarea id="txtDescHito" cols="160" rows="4" value="#{proyectoController.hitoProyectoSelected.descripcion}" required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP7']}"></p:inputTextarea>  
                                            <p:message for="txtDescHito"></p:message>

                                            <p:outputLabel value="Valor (USD):" for="txtValorHito"/>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtValorHito" value="#{proyectoController.hitoProyectoSelected.valor}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber"  required="#{not empty param['formPrincipal:formPrincipal1:tabViewPrincipal:tabP:btnGrabarP7']}">  </pe:inputNumber>  
                                                <p:message for="txtValorHito"></p:message>
                                            </h:panelGrid>

                                        </h:panelGrid>
                                    </p:panel>                        
                                    <h:outputLabel value="Hitos del proyecto"/>
                                    <p:dataTable id="dataTHitosProyecto" value="#{proyectoController.hitoProyectoList}" var="hitoProyecto" paginator="true"
                                                 rows="10" rowIndexVar="index" resizableColumns="true"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:column headerText="Ord." width="20">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Semestre" width="100" sortBy="#{hitoProyecto.semestre.prdDescripcion}">
                                            <h:outputText value="#{hitoProyecto.semestre.prdDescripcion}" style="white-space: pre-line"/>                                    
                                        </p:column>
                                        <p:column headerText="Descripción" sortBy="#{hitoProyecto.descripcion}">
                                            <h:outputText value="#{hitoProyecto.descripcion}" style="white-space: pre-line"/>     
                                        </p:column>
                                        <p:column headerText="Valor (USD)" sortBy="#{hitoProyecto.valor}" width="100">
                                            <h:outputText value="#{hitoProyecto.valor}" style="white-space: pre-line">
                                                <f:convertNumber locale="es_ES"  pattern="#,##0.00" />
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Editar" width="40" style="text-align: center">
                                            <p:commandButton icon="ui-icon-pencil"
                                                             title="Editar el registro" action="#{proyectoController.seleccionarEdicion}"
                                                             update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h7, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p7"
                                                             oncomplete="document.getElementById('formPrincipal:formPrincipal1:tabViewPrincipal:tabP:txtDescHito').focus();">
                                                <f:setPropertyActionListener value="#{hitoProyecto}" target="#{proyectoController.hitoProyectoSelected}"/>
                                            </p:commandButton>

                                        </p:column>

                                        <p:column headerText="Eliminar" width="40" style="text-align: center">
                                            <p:commandButton id="btnEliminarP7" title="Eliminar el registro" icon="ui-icon-trash"
                                                             onclick="PF('dialogDeleteHitoProyecto').show();" process="@this" >
                                                <f:setPropertyActionListener value="#{hitoProyecto}" target="#{proyectoController.hitoProyectoSelected}"/>
                                            </p:commandButton>
                                        </p:column>
                                    </p:dataTable>
                                </p:panel>
                            </p:tab>                             





                        </p:tabView>

                    </p:tab>



                </p:tabView>

            </p:panel>

        </h:form>





        <p:dialog id="dialogDeleteProyecto" header="Confirmación" widgetVar="dialogDeleteProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el proyecto actual ?" style="font-size: 11px"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteProyecto').hide();">
                            <p:ajax update=":formPrincipal:formPrincipal1:dtProyectos" listener ="#{programaVinculacionController.eliminarPrograma()}" />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteProyecto').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogDeleteObjetivoPrograma" header="Confirmación" widgetVar="dialogDeleteObjetivoPrograma" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el objetivo del proyecto seleccionado?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivoPrograma').hide();">
                            <p:ajax listener ="#{proyectoController.eliminarP15()}"
                                    update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTObjetivos, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p15, :formPrincipal:formPrincipal1:message" 
                                    />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivoPrograma').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogDeleteAdquisicionProyecto" header="Confirmación" widgetVar="dialogDeleteAdquisicionProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el detalle de adquisición seleccionado?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteAdquisicionProyecto').hide();">
                            <p:ajax listener ="#{proyectoController.eliminarP14()}"
                                    update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTAdqusicion, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p14,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h14, :formPrincipal:formPrincipal1:message" 
                                    />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteAdquisicionProyecto').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogDeleteDocenteProyecto" header="Confirmación" widgetVar="dialogDeleteDocenteProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el objetivo del proyecto seleccionado?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteDocenteProyecto').hide();">
                            <p:ajax listener ="#{proyectoController.eliminarP5()}"
                                    update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTDocentesParticipantes, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p5,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h5, :formPrincipal:formPrincipal1:message" 
                                    />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteDocenteProyecto').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>

        <p:dialog id="dialogDeleteEstudianteProyecto" header="Confirmación" widgetVar="dialogDeleteEstudianteProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar la carrera seleccionada?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteEstudianteProyecto').hide();">
                            <p:ajax listener ="#{proyectoController.eliminarP6()}"
                                    update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTEstudiantesParticipantes, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p6,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h6, :formPrincipal:formPrincipal1:message" 
                                    />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteEstudianteProyecto').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>

        <p:dialog id="dialogDeleteHitoProyecto" header="Confirmación" widgetVar="dialogDeleteHitoProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el objetivo del proyecto seleccionado?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteHitoProyecto').hide();">
                            <p:ajax listener ="#{proyectoController.eliminarP7()}"
                                    update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:dataTHitosProyecto, :formPrincipal:formPrincipal1:tabViewPrincipal:tabP:p7,:formPrincipal:formPrincipal1:tabViewPrincipal:tabP:h7, :formPrincipal:formPrincipal1:message" 
                                    />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteHitoProyecto').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogDeleteObjetivosPlanBVivir" header="Confirmación" widgetVar="dialogDeleteObjetivosPlanBVivir" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el objetivo seleccionado?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivosPlanBVivir').hide();">
                            <p:ajax update="formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel16, :formPrincipal:formPrincipal1:message " listener ="#{proyectoController.eliminarP16()}" />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivosPlanBVivir').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>
        <p:dialog id="dialogDeleteObjetivoEstrategico" header="Confirmación" widgetVar="dialogDeleteObjetivoEstrategico" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el objetivo seleccionado?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivoEstrategico').hide();">
                            <p:ajax update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel17, :formPrincipal:formPrincipal1:message" listener ="#{proyectoController.eliminarP17()}" />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivoEstrategico').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>        
        <p:dialog id="dialogDeleteObjetivoProyecto" header="Confirmación" widgetVar="dialogDeleteObjetivoProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form>
                <p:outputPanel>
                    <center>
                        <h:panelGrid columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el objetivo del proyecto seleccionado?" style="font-size: 11px; text-align: center"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <center>
                        <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivoProyecto').hide();">
                            <p:ajax update=":formPrincipal:formPrincipal1:tabViewPrincipal:tabP:panel15, :formPrincipal:formPrincipal1:message" listener ="#{proyectoController.eliminarP15()}" />
                        </p:commandButton>
                        <p:spacer width="10" ></p:spacer>
                        <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivoProyecto').hide();"></p:commandButton>
                    </center>
                </p:outputPanel>
            </h:form>
        </p:dialog>


    </ui:define>
</ui:composition>