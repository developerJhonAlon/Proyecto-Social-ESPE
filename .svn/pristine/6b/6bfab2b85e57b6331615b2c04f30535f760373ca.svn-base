<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:pe="http://primefaces.org/ui/extensions"
      >
    <h:body>    
        <ui:composition template="/vista/template-sistema2.xhtml">
            <ui:define name="content">

                <style>
                    .foo{
                        width: 151px;
                    }

                    .foo td {
                        vertical-align: top;
                    }

                    .ui-panel .ui-panel-content {
                        padding: 0;
                    }            
                    .col1_datos_generales {
                        width: 65px;
                    }
                    .col1_adquisicion {
                        width: 95px;
                    }
                    .col1_objetivos {
                        width: 80px;
                    }
                    .col1_presupuesto {
                        width: 125px;
                    }
                    .col1_identificacionPoblacion {
                        width: 70px;
                        text-align: left;
                        border: solid;
                        border-width: 1px;
                    }
                    .col2_identificacionPoblacion {
                        width: 70px;
                        text-align: center;
                        border: solid;
                        border-width: 1px;
                    }
                    .col1_acta_concejo_departamento{
                        width: 200px;
                    }
                    .hide-column-names table thead tr {
                        display: none;
                    }
                    .button {

                        background-color: Transparent;background-repeat:no-repeat;border: none;cursor:pointer;overflow: hidden;
                    }            
                    .estilo1{
                        text-align: center;
                    }                    
                </style>                

                <p:panel style="border: hidden;">
                    <h:panelGrid columns="1" width="100%" columnClasses="estilo1" style="background: rgb(39, 124, 75) none repeat">
                        <p:outputLabel value="#{proyectoController.nombreProySeleccionado}" style="color: white; font-weight: bold;" ></p:outputLabel>
                    </h:panelGrid>
                    <h:panelGrid columns="3" styleClass="foo" columnClasses="foo" style="width: 100%">


                        <h:panelGrid id="panelMenu" columns="1" styleClass="foo">
                            <p:tree id="treeMenu" value="#{proyectoController.rootMenu}" var="node"
                                    selectionMode="single"
                                    selection="#{proyectoController.selectedNode}"
                                    style="width: 220px"
                                    >
                                <p:ajax event="select" listener="#{proyectoController.onNodeSelect}" update=":formPrincipal:panelMenu, :formPrincipal:panelCentral"
                                        onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"/>
                                <p:ajax event="expand" listener="#{proyectoController.onNodeExpand}" update=":formPrincipal:panelMenu"/>
                                <p:ajax event="collapse" listener="#{proyectoController.onNodeCollapse}" update=":formPrincipal:panelMenu"/>
                                
                                
                                <p:treeNode styleClass="menuOpciones">
                                    <h:outputText value="#{node.nombre}" title="#{node.nombre}" style="white-space: pre-line"/>
                                </p:treeNode>
                            </p:tree>

                        </h:panelGrid>

                        <p:panel id="panelCentral" style="width: 100%; border: hidden ">
                            <!--tab1: Datos Generales-->
                            <p:panel rendered="#{proyectoController.selectedNodeCode=='1.1.1'}" style="border: hidden; padding-left: 20px">
                                <h:panelGrid columns="3" cellpadding="0" cellspacing="0" styleClass="foo, foo, foo">
                                    <h:panelGrid columns="1" cellpadding="0" cellspacing="0">
                                        <h:panelGrid columns="3" cellpadding="7" id="h1">
                                            <p:commandButton id="btnGrabarP1" value="Grabar" icon="ui-icon-locked" 
                                                             title="Graba Información" update=":formPrincipal:panelCentral, :formPrincipal:message1" 
                                                             action="#{proyectoController.registraP1()}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton value="Eliminar" icon="ui-icon-closethick" style="margin: 0; float: left" disabled="#{proyectoController.proyectoSelected.id==null}"
                                                             rendered="false"
                                                             title="Eliminar Programa" update=":formPrincipal:h1,:formPrincipal:panelCentral,:formPrincipal:pInput1"
                                                             onclick="PF('dialogDeleteProyecto').show();" process="@this"
                                                             >
                                            </p:commandButton>                                        
                                            <p:commandButton value="Imprimir" icon="ui-icon-print" style="margin: 0; float: left" disabled="#{proyectoController.proyectoSelected.id==null}"
                                                             rendered="false"
                                                             title="Imprimir Programa" update=":formPrincipal:h1,:formPrincipal:panelCentral,:formPrincipal:pInput1"
                                                             process="@this"
                                                             >
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <h:panelGrid id="pInput1" columns="2" cellspacing="5" columnClasses="col1_datos_generales">
                                            <p:outputLabel value="Código:" style="font-weight: bold"/>
                                            <p:outputLabel id="lblCodigo" value="#{proyectoController.proyectoSelected.codigo}"/>




                                            <p:outputLabel value="Nombre:" for="txtNombreProyecto" style="font-weight: bold"/>
                                            <h:panelGrid columns="2">
                                                <p:inputTextarea id="txtNombreProyecto" value="#{proyectoController.proyectoSelected.nombre}" maxlength="150" rows="2" cols="80" required="#{not empty param['formPrincipal:btnGrabarP1']}"></p:inputTextarea>
                                                <p:message for="txtNombreProyecto"></p:message>
                                            </h:panelGrid>


                                            <p:outputLabel value="Tipo Proyecto:" for="selTipoProyecto" style="font-weight: bold"/>
                                            <h:panelGrid columns="2">
                                                <p:selectOneRadio id="selTipoProyecto" value="#{proyectoController.proyectoSelected.tipo}" 
                                                                  required="#{not empty param['formPrincipal:btnGrabarP1']}"
                                                                  disabled="#{proyectoController.proyectoSelected.id!=null}"
                                                                  style="font-weight: normal"
                                                                  >
                                                    <f:selectItem itemLabel="Gasto Corriente" itemValue="C"/>
                                                    <f:selectItem itemLabel="Fondos de Inversión" itemValue="I"/>

                                                    <p:ajax update=":formPrincipal:pInput1" process=":formPrincipal:pInput1" onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"/>
                                                </p:selectOneRadio>
                                                <p:message for="selTipoProyecto"></p:message>
                                            </h:panelGrid>

                                            <p:outputLabel id="lblConvocatoria1" value="Convocatoria:" style="font-weight: bold" rendered="#{proyectoController.proyectoSelected.tipo=='I'}"/>
                                            <p:outputLabel id="lblConvocatoria2" value="#{proyectoController.proyectoSelected.convocatoria.nombre}" rendered="#{proyectoController.proyectoSelected.convocatoria!=null &amp;&amp; proyectoController.proyectoSelected.tipo=='I'}"/>
                                            <p:outputLabel id="lblConvocatoria3" value="No existe una convocatoria abierta" style="color: red" rendered="#{proyectoController.proyectoSelected.convocatoria==null &amp;&amp; proyectoController.proyectoSelected.tipo=='I'}"/>

                                            <p:outputLabel value="Departamento:" for="selDepartamentoProyecto" style="font-weight: bold"/>
                                            <h:panelGrid columns="2">
                                                <p:selectOneMenu id="selDepartamentoProyecto"
                                                                 required="#{not empty param['formPrincipal:btnGrabarP1']}" 
                                                                 disabled="#{proyectoController.proyectoSelected.id!=null}"
                                                                 style="width:400px;" 
                                                                 converter="omnifaces.SelectItemsConverter"
                                                                 value="#{proyectoController.proyectoSelected.departamento}" 
                                                                 >
                                                    <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoController.departamentoList}" var="depProyecto" itemLabel="#{depProyecto.stvsubjDesc}" itemValue="#{depProyecto}"/>
                                                </p:selectOneMenu>

                                                <p:message for="selDepartamentoProyecto"></p:message>
                                            </h:panelGrid>





                                            <p:outputLabel value="Población Beneficiaria:" for="selTipoPoblacion" style="font-weight: bold"/>
                                            <h:panelGrid columns="2">
                                                <p:selectManyCheckbox id="selTipoPoblacion" 
                                                                      value="#{proyectoController.tipoPoblacionSelectedList}" 
                                                                      converter="omnifaces.SelectItemsConverter">
                                                    <f:selectItems value="#{proyectoController.tipoPoblacionList}" var="tipoPob" itemLabel="#{tipoPob.prdDescripcion}" itemValue="#{tipoPob}" />
                                                </p:selectManyCheckbox>
                                                <p:message for="selTipoPoblacion"></p:message>
                                            </h:panelGrid>

                                        </h:panelGrid>


                                        <p:spacer height="10"></p:spacer>
                                        <h:outputText value="PLAZO DE EJECUCIÓN" style="font-size: 14px; font-weight: bold"/>
                                        <h:panelGrid  columns="3" cellpadding="2" >
                                            <p:outputLabel value="Fecha de Inicio (dd/mm/aaaa):" for="fechaInicioProyecto" style="font-weight: bold"/>
                                            <p:calendar id="fechaInicioProyecto" navigator="true" value="#{proyectoController.proyectoSelected.fechaInicio}" yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                                        required="#{not empty param['formPrincipal:btnGrabarP1']}">
                                                <p:ajax event="dateSelect" update=":formPrincipal:lblDuracionProyecto" />
                                            </p:calendar>
                                            <p:message for="fechaInicioProyecto"></p:message>

                                            <p:outputLabel value="Fecha de Finalización (dd/mm/aaaa):" for="fechaFinProyecto" style="font-weight: bold"/>
                                            <p:calendar id="fechaFinProyecto" navigator="true" value="#{proyectoController.proyectoSelected.fechaFinalizacion}" yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                                        required="#{not empty param['formPrincipal:btnGrabarP1']}">
                                                <p:ajax event="dateSelect" update=":formPrincipal:lblDuracionProyecto" />
                                            </p:calendar>
                                            <p:message for="fechaFinProyecto"></p:message>

                                            <h:outputLabel value="Duración:" style="font-weight: bold"/>
                                            <h:outputLabel id="lblDuracionProyecto" value="#{proyectoController.proyectoSelected.duracion}"/>

                                            <p:spacer height="15"></p:spacer>


                                        </h:panelGrid>


                                    </h:panelGrid>
                                    <p:spacer height="1" width="25"></p:spacer>
                                    <h:panelGrid columns="1">

                                        <h:panelGrid columns="2">
                                            <p:outputLabel value="DATOS DEL DIRECTOR" style="font-size: 14px; font-weight: bold"/>
                                            <p:message for="lblNombreDirectorProyecto"></p:message> 
                                        </h:panelGrid>
                                        <h:panelGrid columns="1">
                                            <h:outputText value="(Ingrese apellidos y/o nombres a buscar)" style="font-weight: bold"/>
                                            <p:autoComplete minQueryLength="3" value="#{proyectoController.nomDocenteBusqueda}" completeMethod="#{proyectoController.completeText}" size="70" required="true">
                                                <p:ajax event="itemSelect" listener="#{proyectoController.onItemSelect}"  update=":formPrincipal:btnGrabarP1, :formPrincipal:datosResp"
                                                        onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"/>
                                            </p:autoComplete>
                                        </h:panelGrid>
                                        <h:panelGrid id="datosResp"  columns="2" cellpadding="2" > 
                                            <p:outputLabel value="Nombres:" for="lblNombreDirectorProyecto" style="font-weight: bold"/>
                                            <p:outputLabel id="lblNombreDirectorProyecto" value="#{proyectoController.docenteSelected.usuNombres}" style="width:300px;"/>

                                            <h:outputLabel value="Apellidos:" style="text-align: left; font-weight: bold"/>
                                            <p:outputLabel value="#{proyectoController.docenteSelected.usuApellidos}" style="width:300px; "/>

                                            <h:outputLabel value="Cargo:" style="text-align: left; font-weight: bold"/>
                                            <p:outputLabel value="#{proyectoController.docenteSelected.cargo}" style="width:300px;"/>

                                            <h:outputLabel value="Departamento:" style="text-align: left; font-weight: bold"/>
                                            <p:outputLabel value="#{proyectoController.docenteSelected.departamento}" style="width:300px;"/>

                                            <h:outputLabel value="Correo Electrónico:" style="text-align: left; font-weight: bold"/>
                                            <p:inputText value="#{proyectoController.docenteSelected.usuEmail}" maxlength="50" required="false" disabled="false" style="width: 260px"> 
                                                <p:ajax event="keyup" update=":formPrincipal:btnGrabarP1" listener="#{proyectoController.validarVaciosP1}"/>
                                            </p:inputText>
                                            <p:outputLabel for="telefUsu" value="Teléfono:" style="white-space: pre-line; font-weight: bold" /> 
                                            <p:inputText id="telefUsu" value="#{proyectoController.docenteSelected.usuTelefonoFijo}" maxlength="10" autocomplete="off" required="false" disabled="false" style="width: 80px">
                                                <p:ajax event="keyup" update=":formPrincipal:btnGrabarP1" listener="#{proyectoController.validarVaciosP1}"/>
                                            </p:inputText>
                                        </h:panelGrid>                                         

                                    </h:panelGrid>



                                </h:panelGrid>
                            </p:panel>


                            <!--tab3: Cobertura y Localización-->
                            <p:panel id="panel3" rendered="#{proyectoController.selectedNodeCode=='1.1.2'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="1" id="h3" rendered="#{!proyectoController.controlGrabar}">
                                    <p:commandButton id="btnEditarP3" value="Editar" title="Editar Información" icon="ui-icon-pencil" 
                                                     update=":formPrincipal:panel3" 
                                                     action="#{proyectoController.editarP3()}" 
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                     >
                                    </p:commandButton>

                                    <h:outputLabel value="Cobertura y localización:" style="font-weight: bold"/>
                                    <p:dataTable id="dataTableCobertura" value="#{proyectoController.proyectoSelected.parroquiasCobertura}" var="parroquiaCobertura"
                                                 style="width: 100%" paginator="true" rows="10" rowIndexVar="index"  resizableColumns="true" 
                                                 emptyMessage="No se encontraron resultados">

                                        <p:column headerText="Nro." style="width:20px">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Provincia" style="width: 250px;white-space:pre-line" sortBy="#{parroquiaCobertura.nomProvincia}">
                                            <h:outputText value="#{parroquiaCobertura.nomProvincia}" style="white-space: pre-line; width: 100%"/>
                                        </p:column>
                                        <p:column headerText="Cantón" style="width: 250px;white-space:pre-line" sortBy="#{parroquiaCobertura.nomCanton}">
                                            <h:outputText value="#{parroquiaCobertura.nomCanton}" style="white-space: pre-line; width: 100%"/>
                                        </p:column>
                                        <p:column headerText="Parroquia" style="white-space:pre-line" sortBy="#{parroquiaCobertura.nomParroquia}">
                                            <h:outputText value="#{parroquiaCobertura.nomParroquia}" style="white-space: pre-line; width: 100%"/>
                                        </p:column>
                                    </p:dataTable>                                             

                                </h:panelGrid>      
                                <p:panel id="p3" visible="#{proyectoController.controlGrabar}" style="border: hidden; ">
                                    <h:panelGrid columns="2" cellpadding="5">
                                        <p:commandButton id="btnGrabarP3" value="Grabar" icon="ui-icon-locked" style="margin: 0;  float: left " 
                                                         title="Graba Información" action="#{proyectoController.registraP3()}" 
                                                         update=":formPrincipal:panel3, :formPrincipal:message1"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                         >
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP3" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0;  float: left "
                                                         title="Cancela Información" 
                                                         update=":formPrincipal:panel3"
                                                         action="#{proyectoController.cancelarP3}">
                                        </p:commandButton>
                                    </h:panelGrid>

                                    <p:panel id="vinPCobertura" style="text-align: left; border: hidden;" >
                                        <p:tree id="treeLocalizacion" value="#{proyectoController.root3}" var="doc"
                                                selectionMode="checkbox"
                                                selection="#{proyectoController.selectedNodes2}">
                                            <p:ajax event="select" update=":formPrincipal:h3" listener="#{proyectoController.validarVaciosP3()}" />
                                            <p:ajax event="unselect" update=":formPrincipal:h3" listener="#{proyectoController.validarVaciosP3()}"/>
                                            <p:treeNode>
                                                <h:outputText value="#{doc.nombre}" />
                                            </p:treeNode>
                                            <p:treeNode>
                                                <h:outputText value="#{doc.nombre}" />
                                            </p:treeNode>
                                        </p:tree>
                                    </p:panel>
                                </p:panel>
                            </p:panel>

                            <!--tab2: Origen de los fondos-->
                            <p:panel rendered="#{proyectoController.selectedNodeCode=='1.1.3'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h2">
                                    <p:commandButton id="btnGrabarP2" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                     update=":formPrincipal:h2,:formPrincipal:pInput2,:formPrincipal:message1" 
                                                     action="#{proyectoController.registraP1()}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                    </p:commandButton>
                                    <p:commandButton id="btnCancelarP2" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                     process="@this"
                                                     update=":formPrincipal:h2,:formPrincipal:pInput2" 
                                                     action="#{proyectoController.cancelarP1}">
                                    </p:commandButton>

                                </h:panelGrid>
                                <h:panelGrid columns="3" cellpadding="5" id="pInput2">
                                    <p:outputLabel value="Presupuesto Aporte Universidad (asignación presupuestaria):" for="txtPresupuestoUniv" style="font-weight: bold"/>
                                    <pe:inputNumber id="txtPresupuestoUniv" value="#{proyectoController.proyectoSelected.presupuestoAporteUniv}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP2']}">
                                        <p:ajax event="change" update="formPrincipal:txtPresupuestoTotal"/>
                                    </pe:inputNumber>
                                    <p:message for="txtPresupuestoUniv"></p:message>

                                    <p:outputLabel value="Presupuesto Aporte Universidad Valorado (sin asignación presupuestaria):" for="txtPresupuestoUnivValorado" style="font-weight: bold"/>
                                    <pe:inputNumber id="txtPresupuestoUnivValorado" value="#{proyectoController.proyectoSelected.presupuestoAporteUnivValorado}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP2']}">
                                        <p:ajax event="change" update="formPrincipal:txtPresupuestoTotal"/>
                                    </pe:inputNumber>
                                    <p:message for="txtPresupuestoUnivValorado"></p:message>

                                    <p:outputLabel value="Presupuesto Entidad Auspiciante:" for="txtPresupuestoEntidadAuspiciante" style="font-weight: bold"/>
                                    <pe:inputNumber id="txtPresupuestoEntidadAuspiciante" value="#{proyectoController.proyectoSelected.presupuestoEntidadAuspiciante}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP2']}">
                                        <p:ajax event="change" update="formPrincipal:txtPresupuestoTotal"/>
                                    </pe:inputNumber>
                                    <p:message for="txtPresupuestoEntidadAuspiciante"></p:message>

                                    <p:outputLabel value="Presupuesto contraparte - Comunidad beneficiaria:" for="txtPresupuestoContraparte" style="font-weight: bold"/>
                                    <pe:inputNumber id="txtPresupuestoContraparte" value="#{proyectoController.proyectoSelected.presupuestoContraparte}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP2']}">
                                        <p:ajax event="change" update="formPrincipal:txtPresupuestoTotal"/>
                                    </pe:inputNumber>
                                    <p:message for="txtPresupuestoContraparte"></p:message>

                                    <p:outputLabel value="Presupuesto Total:" style="font-weight: bold" />
                                    <p:inputText id="txtPresupuestoTotal" value="#{proyectoController.proyectoSelected.presupuestoTotal}" disabled="true" style="width: 70px;">
                                        <f:convertNumber locale="es_ES"  pattern="#,##0.00" />
                                    </p:inputText>                                        
                                </h:panelGrid> 
                            </p:panel>


                            <!--tab4: Detalle de entregables del proyecto-->
                            <p:panel rendered="#{proyectoController.selectedNodeCode=='1.1.4'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h4">
                                    <p:commandButton id="btnGrabarP4" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                     update=":formPrincipal:h4,:formPrincipal:pInput4,:formPrincipal:message1" 
                                                     action="#{proyectoController.registraP4()}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                    </p:commandButton>
                                    <p:commandButton id="btnCancelarP4" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                     process="@this"
                                                     update=":formPrincipal:h4,:formPrincipal:pInput4" 
                                                     action="#{proyectoController.cancelarP1}">
                                    </p:commandButton>

                                </h:panelGrid>

                                <h:panelGrid columns="1" cellpadding="5" id="pInput4">
                                    <p:message for="lblBienes"></p:message>

                                    <p:outputLabel id="lblBienes" value="Bienes:" for="txtBienes" style="font-weight: bold"/>
                                    <pe:ckEditor id="txtBienes" value="#{proyectoController.proyectoSelected.bienes}" 
                                                 width="100%"
                                                 height="100"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>
                                    <p:message for="txtBienes"></p:message>

                                    <p:outputLabel value="Servicios:" for="txtServicios" style="font-weight: bold"/>
                                    <pe:ckEditor id="txtServicios" value="#{proyectoController.proyectoSelected.servicios}" 
                                                 width="100%"
                                                 height="100"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>
                                    <p:message for="txtServicios"></p:message>

                                    <p:outputLabel value="Bienes y Servicios" for="txtBienesServicios" style="font-weight: bold"/>
                                    <pe:ckEditor id="txtBienesServicios" value="#{proyectoController.proyectoSelected.bienesServicios}" 
                                                 width="100%"
                                                 height="100"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>
                                    <p:message for="txtBienesServicios"></p:message>
                                </h:panelGrid> 
                            </p:panel>


                            <!--tab9: Diagnóstico y Problema-->
                            <p:panel rendered="#{proyectoController.selectedNodeCode=='1.2.1'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h9"> 
                                    <p:commandButton id="btnGrabarP9" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                     update=":formPrincipal:h9,:formPrincipal:pInput9, :formPrincipal:message1" 
                                                     action="#{proyectoController.registraP1}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                    </p:commandButton>
                                    <p:commandButton id="btnCancelarP9" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                     process="@this"
                                                     update=":formPrincipal:h9,:formPrincipal:pInput9" 
                                                     action="#{proyectoController.cancelarP1}">
                                    </p:commandButton>

                                </h:panelGrid>
                                <h:panelGrid columns="1" cellpadding="2" id="pInput9">
                                    <h:panelGrid columns="1" cellpadding="2" >
                                        <h:panelGrid columns="2">
                                            <h:panelGrid columns="2">
                                                <p:outputLabel value="Descripción de la situación actual del área de intervención del proyecto:" for="txtAreaIntervencion" style="font-weight: bold"/>
                                                <img src="#{request.contextPath}/resources/images/ayuda_rapida.png" style="width: 15px; cursor: pointer" title="Si es asi, el campus al cual pertenece el programa (seleccionado en Datos Generales) debería también poder agregarse como entidad ejecutora o validar que pueda seleccionar cualquier otra excepto esta"/>
                                            </h:panelGrid>
                                            <p:message for="txtAreaIntervencion"></p:message>
                                        </h:panelGrid>
                                        <pe:ckEditor id="txtAreaIntervencion" value="#{proyectoController.proyectoSelected.areaIntervencion}" 
                                                     width="100%"
                                                     height="100"
                                                     required="#{not empty param['formPrincipal:btnGrabarP9']}"
                                                     toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                     >  
                                        </pe:ckEditor>

                                        <h:panelGrid columns="2">
                                            <p:outputLabel value="Identificación, descripción y diagnóstico del problema:" for="txtDiagnosticoProblema" style="font-weight: bold"/>
                                            <p:message for="txtDiagnosticoProblema"></p:message>
                                        </h:panelGrid>
                                        <pe:ckEditor id="txtDiagnosticoProblema" value="#{proyectoController.proyectoSelected.diagnosticoProblema}" 
                                                     width="100%"
                                                     height="100"
                                                     required="#{not empty param['formPrincipal:btnGrabarP9']}"
                                                     toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                     >  
                                        </pe:ckEditor>

                                        <h:panelGrid columns="2">
                                            <p:outputLabel value="Línea Base del proyecto:" for="txtLineaBase" style="font-weight: bold"/>
                                            <p:message for="txtLineaBase"></p:message>
                                        </h:panelGrid>
                                        <pe:ckEditor id="txtLineaBase" value="#{proyectoController.proyectoSelected.lineaBase}" 
                                                     width="100%"
                                                     height="100"
                                                     required="#{not empty param['formPrincipal:btnGrabarP9']}"
                                                     toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                     >  
                                        </pe:ckEditor>

                                        <h:panelGrid columns="2">
                                            <p:outputLabel value="Factores críticos de éxito:" for="txtFactoresCriticos" style="font-weight: bold"/>
                                            <p:message for="txtFactoresCriticos"></p:message>
                                        </h:panelGrid>
                                        <pe:ckEditor id="txtFactoresCriticos" value="#{proyectoController.proyectoSelected.factoresCriticos}" 
                                                     width="100%"
                                                     height="100"
                                                     required="#{not empty param['formPrincipal:btnGrabarP9']}"
                                                     toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                     >  
                                        </pe:ckEditor>

                                        <h:panelGrid columns="2">
                                            <p:outputLabel value="Restricciones/Supuestos::" for="txtRestricciones" style="font-weight: bold"/>
                                            <p:message for="txtRestricciones"></p:message>
                                        </h:panelGrid>
                                        <pe:ckEditor id="txtRestricciones" value="#{proyectoController.proyectoSelected.restricciones}" 
                                                     width="100%"
                                                     height="100"
                                                     required="#{not empty param['formPrincipal:btnGrabarP9']}"
                                                     toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                     >  
                                        </pe:ckEditor>
                                    </h:panelGrid>
                                </h:panelGrid>
                            </p:panel>

                            <!--tab10: Diagnóstico y Diagnóstico y Problema-Identificación de Población-->
                            <p:panel id="panel10" rendered="#{proyectoController.selectedNodeCode=='1.2.2'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h10"> 
                                    <p:commandButton id="btnGrabarP10" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                     update=":formPrincipal:panel10, :formPrincipal:message1" 
                                                     action="#{proyectoController.registraP1}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                    </p:commandButton>
                                    <p:commandButton id="btnCancelarP10" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                     process="@this"
                                                     update=":formPrincipal:panel10" 
                                                     action="#{proyectoController.cancelarP1}">
                                    </p:commandButton>

                                </h:panelGrid>
                                <h:panelGrid columns="1" id="pInput10">
                                    <h:outputLabel value="Identificación y caracterización de la población objetivo (beneficiarios):" style="font-weight: bold"/>
                                    <h:panelGrid columns="5" cellpadding="0" cellspacing="0" columnClasses="col1_identificacionPoblacion,col2_identificacionPoblacion, col2_identificacionPoblacion, col2_identificacionPoblacion, col2_identificacionPoblacion">

                                        <p:spacer height="1"></p:spacer>
                                        <p:outputLabel value="Hombres" style="font-weight: bold"/>
                                        <p:outputLabel value="Mujeres" style="font-weight: bold"/>
                                        <p:outputLabel value="Personas con capacidades especiales" style="font-weight: bold"/>
                                        <p:outputLabel value="Total" style="font-weight: bold"/>

                                        <p:outputLabel value="DIRECTOS" style="font-weight: bold"/>
                                        <h:panelGrid columns="2">
                                            <pe:inputNumber id="txtDirectosHombres" value="#{proyectoController.proyectoSelected.nroBeneficiariosDirectosHombres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP10']}">  
                                                <p:ajax event="change" update="formPrincipal:txtTotalDirectos"/>
                                            </pe:inputNumber>
                                            <p:message for="txtDirectosHombres"></p:message>
                                        </h:panelGrid>
                                        <h:panelGrid columns="2">
                                            <pe:inputNumber id="txtDirectosMujeres" value="#{proyectoController.proyectoSelected.nroBeneficiariosDirectosMujeres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP10']}">  
                                                <p:ajax event="change" update="formPrincipal:txtTotalDirectos"/>
                                            </pe:inputNumber>
                                            <p:message for="txtDirectosMujeres"></p:message>
                                        </h:panelGrid>
                                        <h:panelGrid columns="2">
                                            <pe:inputNumber id="txtDirectosDiscapac" value="#{proyectoController.proyectoSelected.nroBeneficiariosDirectosDiscapac}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP10']}">  
                                                <p:ajax event="change" update="formPrincipal:txtTotalDirectos"/>
                                            </pe:inputNumber>
                                            <p:message for="txtDirectosDiscapac"></p:message>
                                        </h:panelGrid>
                                        <p:inputText id="txtTotalDirectos" value="#{proyectoController.proyectoSelected.totalDirectos}" disabled="true" style="width: 70px">
                                            <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                        </p:inputText>

                                        <p:outputLabel value="INDIRECTOS" style="font-weight: bold"/>
                                        <h:panelGrid columns="2">
                                            <pe:inputNumber id="txtIndirectosHombres" value="#{proyectoController.proyectoSelected.nroBeneficiariosIndirectosHombres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP10']}">  
                                                <p:ajax event="change" update="formPrincipal:txtTotalIndirectos"/>
                                            </pe:inputNumber>
                                            <p:message for="txtIndirectosHombres"></p:message>
                                        </h:panelGrid>
                                        <h:panelGrid columns="2">
                                            <pe:inputNumber id="txtIndirectosMujeres" value="#{proyectoController.proyectoSelected.nroBeneficiariosIndirectosMujeres}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP10']}">  
                                                <p:ajax event="change" update="formPrincipal:txtTotalIndirectos"/>
                                            </pe:inputNumber>
                                            <p:message for="txtIndirectosMujeres"></p:message>
                                        </h:panelGrid>
                                        <h:panelGrid columns="2">
                                            <pe:inputNumber id="txtIndirectosDiscapac" value="#{proyectoController.proyectoSelected.nroBeneficiariosIndirectosDiscapac}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP10']}">  
                                                <p:ajax event="change" update="formPrincipal:txtTotalIndirectos"/>
                                            </pe:inputNumber>
                                            <p:message for="txtIndirectosDiscapac"></p:message>
                                        </h:panelGrid>
                                        <p:inputText id="txtTotalIndirectos" value="#{proyectoController.proyectoSelected.totalIndirectos}" disabled="true" style="width: 70px">
                                            <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                        </p:inputText>
                                    </h:panelGrid>
                                </h:panelGrid>
                            </p:panel>

                            <!--tab5: Docentes participantes -->
                            <p:panel id="panel5" rendered="#{proyectoController.selectedNodeCode=='1.2.3'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h5">
                                    <p:commandButton id="btnAgregarP5" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                     update=":formPrincipal:h5,:formPrincipal:p5"
                                                     actionListener="#{proyectoController.agregarP5}" 
                                                     rendered="#{!proyectoController.controlGrabar}" 

                                                     >
                                    </p:commandButton>
                                </h:panelGrid>
                                <p:panel id="p5" visible="#{proyectoController.controlGrabar}" style="border: hidden; padding-left: 30px">
                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                        <p:commandButton id="btnGrabarP5" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:panel5, :formPrincipal:message1" 
                                                         action ="#{proyectoController.registraP5}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP5" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         process="@this"
                                                         update=":formPrincipal:panel5" 
                                                         action="#{proyectoController.cancelarP5}">
                                        </p:commandButton>
                                    </h:panelGrid>  
                                    <h:panelGrid columns="3" cellpadding="5" id="pInput5" >
                                        <p:outputLabel value="Departamento:" for="selDepartamento" style="font-weight: bold"/>
                                        <p:selectOneMenu id="selDepartamento" 
                                                         required="#{not empty param['formPrincipal:btnGrabarP5']}" 
                                                         style="width:100%;" 
                                                         converter="omnifaces.SelectItemsConverter"
                                                         value="#{proyectoController.departamentoProyectoSelected.departamento}" 
                                                         >
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.departamentoList}" var="dep" itemLabel="#{dep.stvsubjDesc}" itemValue="#{dep}"  />
                                        </p:selectOneMenu>
                                        <p:message for="selDepartamento"></p:message>


                                        <p:outputLabel value="Nro. docentes participantes:" for="txtNroDocentesParticipantes" style="font-weight: bold"/>
                                        <pe:inputNumber id="txtNroDocentesParticipantes" value="#{proyectoController.departamentoProyectoSelected.nroDocentes}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP5']}">  </pe:inputNumber>                                          
                                        <p:message for="txtNroDocentesParticipantes"></p:message>

                                    </h:panelGrid>
                                </p:panel>                        
                                <h:outputLabel value="Docentes participantes:" style="font-weight: bold"/>
                                <p:dataTable id="dataTDocentesParticipantes" value="#{proyectoController.departamentoProyectoList}" var="docenteProyecto" paginator="true"
                                             rows="10" rowIndexVar="index" resizableColumns="true"
                                             emptyMessage="No se encontraron Resultados"> 
                                    <p:column headerText="Nro." width="20">
                                        <h:outputText value="#{index + 1}"/>
                                    </p:column>
                                    <p:column headerText="Departamento" sortBy="#{docenteProyecto.departamento.stvsubjDesc}">
                                        <h:outputText value="#{docenteProyecto.departamento.stvsubjDesc}" style="white-space: pre-line"/>                                    
                                    </p:column>
                                    <p:column headerText="Nro. docentes participantes" sortBy="#{docenteProyecto.nroDocentes}" width="100" style="white-space: pre-line; ">
                                        <h:outputText value="#{docenteProyecto.nroDocentes}" style="white-space: pre-line; float:right">  
                                            <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Editar" width="40" style="text-align: center">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                         update=":formPrincipal:h5,:formPrincipal:p5"
                                                         oncomplete="document.getElementById('formPrincipal:txtNroDocentesParticipantes').focus();">
                                            <f:setPropertyActionListener value="#{docenteProyecto}" target="#{proyectoController.departamentoProyectoSelected}"/>
                                        </p:commandButton>

                                    </p:column>

                                    <p:column headerText="Eliminar" width="40" style="text-align: center">
                                        <p:commandButton id="btnEliminarP5" title="Eliminar el registro" icon="ui-icon-trash"
                                                         onclick="PF('dialogDeleteDocenteProyecto').show();" process="@this" >
                                            <f:setPropertyActionListener value="#{docenteProyecto}" target="#{proyectoController.departamentoProyectoSelected}"/>
                                        </p:commandButton>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="2" style="text-align:right" footerText="Total:" />
                                            <p:column footerText="#{proyectoController.totalDocentesParticipantes}" style="text-align: right" >
                                            </p:column>
                                            <p:column colspan="2"/>
                                        </p:row>
                                    </p:columnGroup>                                        
                                </p:dataTable>                                     
                            </p:panel>

                            <!--tab6: Estudiantes participantes-->
                            <p:panel id="panel6" rendered="#{proyectoController.selectedNodeCode=='1.2.4'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h6">
                                    <p:commandButton id="btnAgregarP6" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                     actionListener="#{proyectoController.agregarP6}" 
                                                     rendered="#{!proyectoController.controlGrabar}" 
                                                     update=":formPrincipal:h6,:formPrincipal:p6"
                                                     >
                                    </p:commandButton>
                                </h:panelGrid>
                                <p:panel id="p6" visible="#{proyectoController.controlGrabar}" style="border: hidden; padding-left: 30px">
                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                        <p:commandButton id="btnGrabarP6" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:panel6, :formPrincipal:message1" 
                                                         action ="#{proyectoController.registraP6}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP6" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         process="@this"
                                                         update=":formPrincipal:panel6" 
                                                         action="#{proyectoController.cancelarP6}">
                                        </p:commandButton>
                                    </h:panelGrid>   
                                    <h:panelGrid columns="3" cellpadding="5" id="pInput6">
                                        <p:outputLabel value="Carrera:" for="selCarrera" style="font-weight: bold"/>
                                        <p:autoComplete id="selCarrera" minQueryLength="1"
                                                        required="#{not empty param['formPrincipal:btnGrabarP6']}"
                                                        value="#{proyectoController.nomCarreraSeleccionada}" 
                                                        forceSelection="true"
                                                        dropdown="true"
                                                        completeMethod="#{proyectoController.buscarCarrera}" size="70">
                                        </p:autoComplete>
                                        <p:message for="selCarrera"></p:message>


                                        <p:outputLabel value="Nro. estudiantes participantes:" for="txtNroEstudiantesParticipantes" style="font-weight: bold"/>
                                        <pe:inputNumber id="txtNroEstudiantesParticipantes" value="#{proyectoController.carreraProyectoSelected.nroEstudiantes}" decimalPlaces="0" minValue="0" maxValue="100000" styleClass="inputNumber" required="#{not empty param['formPrincipal:btnGrabarP6']}">  </pe:inputNumber>                                          
                                        <p:message for="txtNroEstudiantesParticipantes"></p:message>

                                    </h:panelGrid>
                                </p:panel>                        
                                <h:outputLabel value="Estudiantes participantes:" style="font-weight: bold"/>
                                <p:dataTable id="dataTEstudiantesParticipantes" value="#{proyectoController.carreraProyectoList}" var="carreraProyecto" paginator="true"
                                             rows="10" rowIndexVar="index" resizableColumns="true"
                                             emptyMessage="No se encontraron Resultados"> 
                                    <p:column headerText="Nro." width="20">
                                        <h:outputText value="#{index + 1}"/>
                                    </p:column>
                                    <p:column headerText="Carrera" sortBy="#{carreraProyecto.carrera.stvmajrDesc}">
                                        <h:outputText value="#{carreraProyecto.carrera.stvmajrDesc}" style="white-space: pre-line"/>                                    
                                    </p:column>
                                    <p:column headerText="Nro. estudiantes participantes" sortBy="#{carreraProyecto.nroEstudiantes}" width="100" style="white-space: pre-line">
                                        <h:outputText value="#{carreraProyecto.nroEstudiantes}" style="white-space: pre-line; float: right">     
                                            <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Editar" width="40" style="text-align: center">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         title="Editar el registro" action="#{proyectoController.editarP6()}"
                                                         update=":formPrincipal:h6, :formPrincipal:p6"
                                                         oncomplete="document.getElementById('formPrincipal:txtNroEstudiantesParticipantes').focus();">
                                            <f:setPropertyActionListener value="#{carreraProyecto}" target="#{proyectoController.carreraProyectoSelected}"/>
                                        </p:commandButton>

                                    </p:column>

                                    <p:column headerText="Eliminar" width="40" style="text-align: center">
                                        <p:commandButton id="btnEliminarP5" title="Eliminar el registro" icon="ui-icon-trash"
                                                         onclick="PF('dialogDeleteEstudianteProyecto').show();" process="@this" >
                                            <f:setPropertyActionListener value="#{carreraProyecto}" target="#{proyectoController.carreraProyectoSelected}"/>
                                        </p:commandButton>
                                    </p:column>
                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="2" style="text-align:right" footerText="Total:" />
                                            <p:column footerText="#{proyectoController.totalEstudiantesParticipantes}" style="text-align: right" >
                                            </p:column>
                                            <p:column colspan="2"/>
                                        </p:row>
                                    </p:columnGroup>                                        

                                </p:dataTable>                                
                            </p:panel>

                            <!--Tab16: Alineamiento del Proyecto-Objetivos PLNBV-->              
                            <p:panel id="panel16" rendered="#{proyectoController.selectedNodeCode=='1.3.1'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="1" cellspacing="5" id="h16">
                                    <p:commandButton id="btnAgregarP16" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                     update=":formPrincipal:h16, :formPrincipal:p16" 
                                                     actionListener="#{proyectoController.agregarP16}" 
                                                     rendered="#{!proyectoController.controlGrabar}"
                                                     >
                                    </p:commandButton>
                                </h:panelGrid>
                                <p:panel id="p16" visible="#{proyectoController.controlGrabar}" style="padding-left: 30px; border: hidden; ">
                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                        <p:commandButton id="btnGrabarP16" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:panel16, :formPrincipal:message1" 
                                                         action="#{proyectoController.registraP16()}" 
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP16" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0;  float: left "
                                                         title="Cancela Información" update=":formPrincipal:p16,:formPrincipal:h16" 
                                                         action="#{proyectoController.cancelarP16(true, false)}">
                                        </p:commandButton>
                                    </h:panelGrid>  
                                    <h:panelGrid columns="2" cellpadding="5">                                                        
                                        <p:outputLabel for="objPlan" value="Seleccione el Objetivo del Plan Nacional del Buen Vivir" style="font-weight: bold"/>
                                        <p:spacer width="1" height="1"></p:spacer>
                                        <p:selectOneMenu id="objPlan" value="#{proyectoController.objBVivirPadre}" 
                                                         required="#{not empty param['formPrincipal:btnGrabarP16']}" 
                                                         converter="omnifaces.SelectItemsConverter"
                                                         style="width:460px;">
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.objBVivirPadreList}" var="objPadre" itemLabel="#{objPadre.ordenDescripcion}" itemValue="#{objPadre}"/>
                                            <p:ajax event="change" update=":formPrincipal:subojPlan1" listener="#{proyectoController.bsqSubObjetivos()}"/>
                                        </p:selectOneMenu>
                                        <p:message for="objPlan"></p:message>

                                        <p:outputLabel for="subojPlan1" value="Seleccione la Política a agregar" style="font-weight: bold"/>
                                        <p:spacer width="1" height="1"></p:spacer>
                                        <p:selectOneMenu id="subojPlan1" value="#{proyectoController.objetivoBVivirSelected.objetivoBVivir}" 
                                                         required="#{not empty param['formPrincipal:btnGrabarP16']}" 
                                                         converter="omnifaces.SelectItemsConverter"
                                                         style="width:460px; ">
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.objBVivirHijoList}" var="subObj" itemLabel="#{subObj.ordenDescripcion}" itemValue="#{subObj}"/>
                                        </p:selectOneMenu>
                                        <p:message for="subojPlan1"></p:message>
                                    </h:panelGrid>                             
                                </p:panel>                        

                                <h:outputLabel value="¿A qué objetivos del Plan Nacional del Buen Vivir se respalda el Proyecto?" style="font-weight: bold"/>
                                <p:dataTable id="dataTableObjPlan" value="#{proyectoController.proyectoSelected.objetivoBVivirProyectoPadreList}" var="proObjPlan" paginator="true"
                                             expandedRow="#{proObjPlan.expanded}" rows="10" rowIndexVar="index" resizableColumns="true" emptyMessage="No se encontraron resultados" >
                                    <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoBVivir}"/>

                                    <p:column style="width: 20px">
                                        <p:rowToggler/>
                                    </p:column>
                                    <p:column headerText="Nro." style="width: 20px;">
                                        <h:outputText value="#{index + 1}"/>
                                    </p:column>
                                    <p:column headerText="Objetivos del Plan Nacional del Buen Vivir">
                                        <h:outputText value="#{proObjPlan.objetivoBVivir.ordenDescripcion}" style="white-space: pre-line" />
                                    </p:column>

                                    <p:rowExpansion >
                                        <p:panelGrid columns="1" style="border:hidden;width:95%; "  >
                                            <p:dataTable id="dtSubObj" value="#{proObjPlan.svinProgObjHijos}" var="subObjl"
                                                         rendered="#{not empty proObjPlan.svinProgObjHijos}"
                                                         rowIndexVar="index" style="width: 90%; padding-left: 60px">
                                                <p:column headerText="Nro." style="width:20px">
                                                    <h:outputText value="#{index + 1}" />
                                                </p:column>
                                                <p:column headerText="Políticas" sortBy="#{subObjl.objetivoBVivir.svobviDescripcion}">
                                                    <h:outputText value="#{subObjl.objetivoBVivir.ordenDescripcion}" style="white-space: pre-line;width: 250px"/>
                                                </p:column>

                                                <p:column headerText="Eliminar " style="width: 50px; text-align: center" >
                                                    <p:commandButton id="btnEliminarP4" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                     onclick="PF('dialogDeleteObjetivosPlanBVivir').show();" process="@this">
                                                        <f:setPropertyActionListener value="#{subObjl}" target="#{proyectoController.objetivoBVivirSelected}" />
                                                    </p:commandButton>   
                                                </p:column>
                                            </p:dataTable>
                                        </p:panelGrid>
                                    </p:rowExpansion>
                                </p:dataTable>
                            </p:panel>

                            <!--tab17: Alineamiento del Proyecto-Objetivos Estratégicos Institucionales-->
                            <p:panel id="panel17" rendered="#{proyectoController.selectedNodeCode=='1.3.2'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="1" cellspacing="0" cellpadding="5" id="h17">
                                    <p:commandButton id="btnAgregarP17" value="Agregar" title="Agregar Información" icon="ui-icon-plus"  
                                                     update=":formPrincipal:p17,:formPrincipal:h17" 
                                                     actionListener="#{proyectoController.agregarP17}" 
                                                     rendered="#{!proyectoController.controlGrabar}">
                                    </p:commandButton>
                                </h:panelGrid>
                                <p:panel id="p17" visible="#{proyectoController.controlGrabar}" style="border: hidden;padding-left: 30px; ">
                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                        <p:commandButton id="btnGrabarP17"  value="Grabar" title="Graba Información"  icon="ui-icon-locked" 
                                                         update=":formPrincipal:panel17, :formPrincipal:message1" 
                                                         action="#{proyectoController.registraP17}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP17" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" process="@this"
                                                         update=":formPrincipal:p17,:formPrincipal:h17" action="#{proyectoController.cancelarP17(true)}">
                                        </p:commandButton>
                                    </h:panelGrid>  
                                    <h:panelGrid columns="3" cellpadding="5">                                                       
                                        <p:outputLabel for="persProg" value="Perspectiva:" style="font-weight: bold"/>
                                        <p:selectOneMenu id="persProg" value="#{proyectoController.perspectivaSelected}" 
                                                         required="#{not empty param['formPrincipal:btnGrabarP17']}" 
                                                         converter="omnifaces.SelectItemsConverter"
                                                         style="width:460px">
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.perspectivasList}" var="perspectiva" itemLabel="#{perspectiva.soesiDescripcion}" itemValue="#{perspectiva}"/>
                                            <p:ajax event="change" 
                                                    listener="#{proyectoController.seleccionarPerspectiva}"
                                                    update=":formPrincipal:objEst, :formPrincipal:indProg, :formPrincipal:estInt" 
                                                    />
                                        </p:selectOneMenu>
                                        <p:message for="persProg"></p:message>

                                        <p:outputLabel for="objEst" value="Objetivo Estratégico:" style="font-weight: bold"/>
                                        <p:selectOneMenu id="objEst" value="#{proyectoController.objetivoEstrategicoSelected}" 
                                                         required="#{not empty param['formPrincipal:btnGrabarP17']}" 
                                                         converter="omnifaces.SelectItemsConverter"
                                                         style="width:460px">
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.perspectivaSelected.objetivoEstrategicoHijoList}" var="objEstrategxPer" itemLabel="#{objEstrategxPer.soesiDescripcion}" itemValue="#{objEstrategxPer}"/>
                                            <p:ajax event="change" 
                                                    listener="#{proyectoController.seleccionarObjetivoEstrategico}"
                                                    update=":formPrincipal:indProg, :formPrincipal:estInt" 
                                                    />
                                        </p:selectOneMenu> 
                                        <p:message for="objEst"></p:message>

                                        <p:outputLabel for="indProg" value="Indicador:" style="font-weight: bold"/>
                                        <p:selectOneMenu id="indProg" value="#{proyectoController.indicadorSelected}" 
                                                         required="#{not empty param['formPrincipal:btnGrabarP17']}" 
                                                         converter="omnifaces.SelectItemsConverter"
                                                         style="width:460px">
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.objetivoEstrategicoSelected.objetivoEstrategicoHijoList}" var="indicObj" itemLabel="#{indicObj.soesiDescripcion}" itemValue="#{indicObj}"/>
                                            <p:ajax event="change" 
                                                    listener="#{proyectoController.seleccionarIndicador}"
                                                    update=":formPrincipal:estInt"/>
                                        </p:selectOneMenu>
                                        <p:message for="indProg"></p:message>

                                        <p:outputLabel for="estInt" value="Estrategia Institucional:" style="font-weight: bold"/>
                                        <p:selectOneMenu id="estInt" value="#{proyectoController.objetivoEstrategicoProyectoSelected.objetivoEstrategico}" 
                                                         required="#{not empty param['formPrincipal:btnGrabarP17']}" 
                                                         converter="omnifaces.SelectItemsConverter"
                                                         style="width:460px;">
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.indicadorSelected.objetivoEstrategicoHijoList}" var="estInst" itemLabel="#{estInst.soesiDescripcion}" itemValue="#{estInst}"/>
                                        </p:selectOneMenu>
                                        <p:message for="estInt"></p:message>
                                    </h:panelGrid>                              
                                </p:panel> 
                                <h:outputLabel for="dataTableObjEstInt" value="¿A qué objetivos Estratégicos Institucionales apunta el Proyecto?:" style="font-weight: bold"/>
                                <p:dataTable id="dataTableObjEstInt" value="#{proyectoController.proyectoSelected.objetivoEstrategicoList}" var="ob"
                                             editable="true" paginator="true" rows="10" rowIndexVar="index"  resizableColumns="true" 
                                             emptyMessage="No se encontraron resultados">
                                    <p:column headerText="Nro." style="width:20px">
                                        <h:outputText value="#{index + 1}"/>
                                    </p:column>
                                    <p:column headerText="Perspectivas" style="width: 100px;white-space:pre-line" sortBy="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}">
                                        <h:outputText value="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                    </p:column>
                                    <p:column headerText="Objetivos Estratégicos" style="width: 190px;white-space:pre-line" sortBy="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}">
                                        <h:outputText value="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.objetivoEstrategicoPadre.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                    </p:column>     
                                    <p:column headerText="Indicadores" style="white-space:pre-line" sortBy="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.soesiDescripcion}">                               
                                        <h:outputText value="#{ob.objetivoEstrategico.objetivoEstrategicoPadre.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                    </p:column>
                                    <p:column headerText="Estrategias Institucionales" style="width: 160px;white-space:pre-line" sortBy="#{ob.objetivoEstrategico.soesiDescripcion}">
                                        <h:outputText value="#{ob.objetivoEstrategico.soesiDescripcion}" style="white-space: pre-line; width: 100%"/>
                                    </p:column>                         
                                    <p:column headerText="Eliminar" style="width: 40px;text-align: center">
                                        <p:commandButton id="btnEliminarP5" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                         onclick="PF('dialogDeleteObjetivoEstrategico').show();" process="@this" disabled="#{programaVinculacionController.programaSelected.sprvFechaFinReal!=null}">
                                            <f:setPropertyActionListener value="#{ob}" target="#{proyectoController.objetivoEstrategicoProyectoSelected}"/>
                                        </p:commandButton>
                                    </p:column>
                                </p:dataTable>                      
                            </p:panel>        

                            <!--tab18: Alineamiento del Proyecto-Objetivos Provinciales, Cantonales o Paroquiales-->
                            <p:panel id="panel18" rendered="#{proyectoController.selectedNodeCode=='1.3.3'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="1" cellspacing="0" cellpadding="5" id="h18">
                                    <p:commandButton id="btnEditarP18" value="Editar" title="Editar Información" icon="ui-icon-pencil" 
                                                     update=":formPrincipal:panel18" 
                                                     action="#{proyectoController.editarP18()}" 
                                                     rendered="#{!proyectoController.controlGrabar}" 
                                                     >
                                    </p:commandButton>
                                </h:panelGrid>
                                <p:panel id="p18" visible="#{proyectoController.controlGrabar}" style="border: hidden; ">
                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                        <p:commandButton id="btnGrabarP18" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         action="#{proyectoController.registraP18()}" 
                                                         update=":formPrincipal:panel18,:formPrincipal:message1"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP18" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         update=":formPrincipal:panel18" 
                                                         action="#{proyectoController.cancelarP18}">
                                        </p:commandButton>
                                    </h:panelGrid>  
                                </p:panel>                                  
                                <h:outputLabel for="dataTableObjParroquiales" value="Objetivos Provinciales, Cantonales y Parroquiales:" style="font-weight: bold"/>
                                <p:dataTable id="dataTableObjParroquiales" value="#{proyectoController.proyectoSelected.objetivosProvCanParr}" var="ob"
                                             editable="true" style="width: 100%" paginator="true" rows="10" rowIndexVar="index"  resizableColumns="true" 
                                             emptyMessage="No se encontraron resultados">

                                    <p:column headerText="Nro." style="width:20px">
                                        <h:outputText value="#{index + 1}"/>
                                    </p:column>
                                    <p:column headerText="Provincia" style="width: 100px;white-space:pre-line" sortBy="#{ob.nomProvincia}">
                                        <p:cellEditor> 
                                            <f:facet name="output"><h:outputText value="#{ob.nomProvincia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                            <f:facet name="input"><h:outputText value="#{ob.nomProvincia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                        </p:cellEditor>                              
                                    </p:column>
                                    <p:column headerText="Cantón" style="width: 100px;white-space:pre-line" sortBy="#{ob.nomCanton}">
                                        <p:cellEditor>
                                            <f:facet name="output"><h:outputText value="#{ob.nomCanton}" style="white-space: pre-line; width: 100%"/></f:facet>
                                            <f:facet name="input"><h:outputText value="#{ob.nomCanton}" style="white-space: pre-line; width: 100%"/></f:facet>
                                        </p:cellEditor>                               
                                    </p:column>     
                                    <p:column headerText="Parroquia" style="width: 150px;white-space:pre-line" sortBy="#{ob.nomParroquia}">                               
                                        <p:cellEditor>
                                            <f:facet name="output"><h:outputText value="#{ob.nomParroquia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                            <f:facet name="input"><h:outputText value="#{ob.nomParroquia}" style="white-space: pre-line; width: 100%"/></f:facet>
                                        </p:cellEditor> 
                                    </p:column>
                                    <p:column headerText="Objetivo" style="white-space:pre-line" sortBy="#{ob.objetivos}" rendered="#{!proyectoController.controlGrabar}">
                                        <h:outputText value="#{ob.objetivos}" style="white-space: pre-line; width: 100%" />
                                    </p:column>                         
                                    <p:column headerText="Objetivo" style="white-space:pre-line" sortBy="#{ob.objetivos}" rendered="#{proyectoController.controlGrabar}">
                                        <p:inputTextarea rows="2" style="width: 100%" value="#{ob.objetivos}" autoResize="false" maxlength="1000"></p:inputTextarea>  
                                    </p:column>

                                </p:dataTable> 
                            </p:panel>

                            <!--tab15: Matriz del Marco Lógico-->
                            <p:panel id="panel15" rendered="#{proyectoController.selectedNodeCode=='1.4'}" style="border: hidden; padding-left: 20px;">
                                <p:panel id="p15" visible="#{proyectoController.controlGrabar}" style=" text-align: left; border: hidden; ">
                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                        <p:commandButton id="btnGrabarP15" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:panel15, :formPrincipal:message1" 
                                                         action="#{proyectoController.registraP15}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP15" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" process="@this"
                                                         title="Cancela Información" update=":formPrincipal:p15" action="#{proyectoController.cancelarP15(false)}">
                                        </p:commandButton>
                                    </h:panelGrid>  
                                    <h:panelGrid columns="3" cellpadding="5" id="pInput15" columnClasses="col1_objetivos">
                                        <p:outputLabel value="#{proyectoController.objetivoProyectoSelected.svopTipo==1 ? 'Fin:':(proyectoController.objetivoProyectoSelected.svopTipo==2?'Objetivo General:':(proyectoController.objetivoProyectoSelected.svopTipo==3?'Objetivo Específico:':'Actividad:'))}" for="txtObjetivo15" style="font-weight: bold"/>
                                        
                                        <p:inputTextarea id="txtObjetivo15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopObjetivoProy}" maxlength="1000" required="#{not empty param['formPrincipal:btnGrabarP15']}"></p:inputTextarea>
                                        <p:message for="txtObjetivo15"></p:message>

                                        <p:outputLabel for="txtIndicador15" value="Indicador:" style="font-weight: bold"/>
                                        <p:inputTextarea id="txtIndicador15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopIndicador}" maxlength="1000" required="#{not empty param['formPrincipal:btnGrabarP15']}"></p:inputTextarea>                             
                                        <p:message for="txtIndicador15"></p:message>

                                        <p:outputLabel value="Medio de verificación:" for="txtIndicador15" style="font-weight: bold"/>
                                        <p:inputTextarea id="txtMedioVerificacion15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopMverifica}" maxlength="1000" required="#{not empty param['formPrincipal:btnGrabarP15']}"></p:inputTextarea>                             
                                        <p:message for="txtMedioVerificacion15"></p:message>

                                        <p:outputLabel for="txtSupuestos15" value="Supuestos:" style="font-weight: bold"/>
                                        <p:inputTextarea id="txtSupuestos15" cols="150" rows="3" value="#{proyectoController.objetivoProyectoSelected.svopSupuestos}" maxlength="1000" required="#{not empty param['formPrincipal:btnGrabarP15']}"></p:inputTextarea>                             
                                        <p:message for="txtSupuestos15"></p:message>

                                    </h:panelGrid>
                                </p:panel>                         
                                <h:outputLabel for="dataTObjetivos" value="Matriz del Marco Lógico:" style="font-weight: bold"/>
                                <p:dataTable id="dataTObjetivos" value="#{proyectoController.proyectoSelected.objetivoProyectoPadreList}" var="objetivoProyecto" paginator="false"
                                             expandedRow="#{objetivoProyecto.expanded}" rows="10" rowIndexVar="index" resizableColumns="false"
                                             emptyMessage="No se encontraron Resultados"> 
                                    <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoProyecto}"/> 
                                    <p:column style="width: 20px" rendered="false">
                                        <p:rowToggler rendered="#{objetivoProyecto.svopTipo!=1}"/>
                                    </p:column>
                                    <p:column headerText="Nro." width="20" rendered="false" >
                                        <h:outputText value="#{objetivoProyecto.svopOrden}"/>
                                    </p:column>
                                    <p:column headerText="" width="70">
                                        <h:outputText value="#{objetivoProyecto.tipoStr}" style="white-space: pre-line"/>
                                    </p:column>
                                    <p:column headerText="Descripción" width="140"> 
                                        <h:outputText value="#{objetivoProyecto.svopObjetivoProy}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Indicador" width="140">
                                        <h:outputText value="#{objetivoProyecto.svopIndicador}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Medio de verificación" width="140">
                                        <h:outputText value="#{objetivoProyecto.svopMverifica}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Supuestos">
                                        <h:outputText value="#{objetivoProyecto.svopSupuestos}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Editar" width="35" style ="text-align: center">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                         update=":formPrincipal:p15"
                                                         oncomplete="document.getElementById('formPrincipal:txtObjetivo15').focus();">
                                            <f:setPropertyActionListener value="#{objetivoProyecto}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                        </p:commandButton>

                                    </p:column> 
                                    <p:column headerText="Eliminar" width="38" style="text-align: center" >
                                        <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                         disabled="#{objetivoProyecto.svopTipo==1 || objetivoProyecto.svopTipo==2}"
                                                         onclick="PF('dialogDeleteObjetivoProyecto').show();" process="@this">
                                            <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoSelected}" />
                                        </p:commandButton>   
                                    </p:column>

                                    <p:rowExpansion  >
                                        <p:panel style="border:hidden; width:95%; padding-left: 40px">
                                            <h:outputLabel value="Componentes (objetivos específicos):" style="font-weight: bold"/>
                                            <p:commandButton value="" title="Agregar Componente (Objetivo Específico)" icon="ui-icon-plus"
                                                             style="width: 30px; height: 20px"
                                                             action="#{proyectoController.agregarP15}"
                                                             update=":formPrincipal:p15"
                                                             oncomplete="document.getElementById('formPrincipal:txtObjetivo15').focus();"
                                                             >
                                                <f:setPropertyActionListener value="#{objetivoProyecto}" target="#{proyectoController.objetivoProyectoPadreSelected}"/>
                                            </p:commandButton>
                                            <p:dataTable id="dataTComponentes" value="#{objetivoProyecto.svinObjetivoHijoList}" var="componente"
                                                         expandedRow="#{componente.expanded}" rowIndexVar="index" styleClass="hide-column-names"
                                                         emptyMessage="No existen registros"> 
                                                <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoProyecto}"/>
                                                <p:column style="width: 20px" rendered="false">
                                                    <p:rowToggler/> 
                                                </p:column>
                                                <p:column headerText="Nro." style="width:20px;">
                                                    <h:outputText value="#{componente.svopOrden}" />
                                                </p:column>
                                                <p:column headerText="Descripción" style="width: 180px"> 
                                                    <h:outputText value="#{componente.svopObjetivoProy}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Indicador" style="width: 140px">
                                                    <h:outputText value="#{componente.svopIndicador}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Medio de verificación" style="width: 140px">
                                                    <h:outputText value="#{componente.svopMverifica}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Supuestos">
                                                    <h:outputText value="#{componente.svopSupuestos}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Editar" style ="width: 30px; text-align: center">
                                                    <p:commandButton icon="ui-icon-pencil"
                                                                     title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                                     update=":formPrincipal:p15"
                                                                     oncomplete="document.getElementById('formPrincipal:txtObjetivo15').focus();">
                                                        <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                                    </p:commandButton>

                                                </p:column>                                                    
                                                <p:column headerText="Eliminar" style="width: 30px; text-align: center" >
                                                    <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                     onclick="PF('dialogDeleteObjetivoProyecto').show();" process="@this">
                                                        <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoSelected}" />
                                                    </p:commandButton>   
                                                </p:column>
                                                <p:rowExpansion >
                                                    <p:panel style="border:hidden;width:98%; padding-left: 30px"  >
                                                        <h:outputLabel value="Actividades:" style="font-weight: bold"/>
                                                        <p:commandButton value="" title="Agregar Actividad" icon="ui-icon-plus"
                                                                         style="width: 30px; height: 20px"
                                                                         oncomplete="document.getElementById('formPrincipal:txtObjetivo15').focus();"
                                                                         action="#{proyectoController.agregarP15}"
                                                                         update=":formPrincipal:p15"
                                                                         >
                                                            <f:setPropertyActionListener value="#{componente}" target="#{proyectoController.objetivoProyectoPadreSelected}"/>
                                                        </p:commandButton>

                                                        <p:dataTable id="dataTActividades" value="#{componente.svinObjetivoHijoList}" var="actividad"
                                                                     emptyMessage="No existen registros"
                                                                     rowIndexVar="index">
                                                            <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggleObjetivoProyecto}"/>
                                                            <p:column headerText="Nro." style="width:40px">
                                                                <table style="width: 40px">
                                                                    <tr>
                                                                        <td style="padding: 0px; text-align: center; border: hidden">
                                                                            <h:outputText value="#{actividad.svopOrden}" />
                                                                        </td>
                                                                        <td style="padding: 0px; border: hidden">
                                                                            <table style="width: 20px">
                                                                                <tr>
                                                                                    <td style="padding: 0px; border: hidden">
                                                                                        <p:commandButton icon="ui-icon-triangle-1-n"
                                                                                                         disabled="#{actividad.svopOrden==1}"
                                                                                                         style="width: 20px; height: 15px"
                                                                                                         title="Cambiar orden(Subir)" action="#{proyectoController.cambiarOrdenActividad(-1)}" 
                                                                                                         update=":formPrincipal:dataTObjetivos, :formPrincipal:message1"
                                                                                                         >
                                                                                            <f:setPropertyActionListener value="#{actividad}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                                                                        </p:commandButton>                         
                                                                                    </td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td style="padding: 0px; border: hidden">
                                                                                        <p:commandButton icon="ui-icon-triangle-1-s"
                                                                                                         disabled="#{actividad.svopOrden==componente.nroHijos}"
                                                                                                         style="width: 20px; height: 15px"
                                                                                                         title="Cambiar orden(Bajar)" action="#{proyectoController.cambiarOrdenActividad(1)}"
                                                                                                         update=":formPrincipal:dataTObjetivos, :formPrincipal:message1"
                                                                                                         >
                                                                                            <f:setPropertyActionListener value="#{actividad}" target="#{proyectoController.objetivoProyectoSelected}"/>
                                                                                        </p:commandButton>                                                        
                                                                                    </td>
                                                                                </tr>
                                                                            </table>
                                                                        </td>
                                                                    </tr>
                                                                </table>                                                                    
                                                            </p:column>
                                                            <p:column headerText="Descripción" style="width: 120px"> 
                                                                <h:outputText value="#{actividad.svopObjetivoProy}" style="white-space: pre-line;"/>
                                                            </p:column>
                                                            <p:column headerText="Indicador" style="width: 140px">
                                                                <h:outputText value="#{actividad.svopIndicador}" style="white-space: pre-line;"/>
                                                            </p:column>
                                                            <p:column headerText="Medio de verificación" style="width: 140px">
                                                                <h:outputText value="#{actividad.svopMverifica}" style="white-space: pre-line;"/>
                                                            </p:column>
                                                            <p:column headerText="Supuestos">
                                                                <h:outputText value="#{actividad.svopSupuestos}" style="white-space: pre-line;"/>
                                                            </p:column>
                                                            <p:column headerText="Editar" style ="width: 30px; text-align: center">
                                                                <p:commandButton icon="ui-icon-pencil"
                                                                                 title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                                                 update=":formPrincipal:p15"
                                                                                 oncomplete="document.getElementById('formPrincipal:txtObjetivo15').focus();">
                                                                    <f:setPropertyActionListener value="#{actividad}"  target="#{proyectoController.objetivoProyectoSelected}"/>
                                                                </p:commandButton>

                                                            </p:column>     
                                                            <p:column headerText="Eliminar" style="width: 30px; text-align: center" >
                                                                <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                                 onclick="PF('dialogDeleteObjetivoProyecto').show();" process="@this">
                                                                    <f:setPropertyActionListener value="#{actividad}" target="#{proyectoController.objetivoProyectoSelected}" />
                                                                </p:commandButton>   
                                                            </p:column>
                                                        </p:dataTable>
                                                    </p:panel>
                                                </p:rowExpansion>                                                        
                                            </p:dataTable>
                                        </p:panel>
                                    </p:rowExpansion>                                        
                                </p:dataTable>
                            </p:panel>
                            <!--tab13: Viabilidad y Plan de Sostenibilidad-->
                            <p:panel rendered="#{proyectoController.selectedNodeCode=='1.5'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h13">
                                    <p:commandButton id="btnGrabarP13" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                     update=":formPrincipal:h13,:formPrincipal:pInput13,:formPrincipal:message1" 
                                                     action="#{proyectoController.registraP1()}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                    </p:commandButton>
                                    <p:commandButton id="btnCancelarP13" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                     process="@this"
                                                     update=":formPrincipal:h13,:formPrincipal:pInput13" 
                                                     action="#{proyectoController.cancelarP1}">
                                    </p:commandButton>

                                </h:panelGrid>
                                <h:panelGrid columns="1" cellpadding="1" id="pInput13">
                                    <h:panelGrid columns="2">
                                        <p:outputLabel  for="viaTecnica" value="Viabilidad Técnica:" style="font-weight: bold"/>
                                        <p:message for="viaTecnica"></p:message>
                                    </h:panelGrid>
                                    <pe:ckEditor id="viaTecnica" value="#{proyectoController.proyectoSelected.viabilidadTecnica}" 
                                                 width="100%"
                                                 height="100"
                                                 required="#{not empty param['formPrincipal:btnGrabarP13']}"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>

                                    <h:panelGrid columns="2">
                                        <p:outputLabel for="perdPais" value="¿Qué perdería el país si el proyecto no se ejecuta en este periodo?:" style="font-weight: bold"/>
                                        <p:message for="perdPais"></p:message>
                                    </h:panelGrid>
                                    <pe:ckEditor id="perdPais" value="#{proyectoController.proyectoSelected.perderiaPais}" 
                                                 width="100%"
                                                 height="100"
                                                 required="#{not empty param['formPrincipal:btnGrabarP13']}"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>

                                    <h:panelGrid columns="2">
                                        <p:outputLabel for="resulImp" value="¿Cuáles son los resultados o impactos esperados del proyecto?:" style="font-weight: bold"/>
                                        <p:message for="resulImp"></p:message>
                                    </h:panelGrid>
                                    <pe:ckEditor id="resulImp" value="#{proyectoController.proyectoSelected.resultadosEsperados}" 
                                                 width="100%"
                                                 height="100"
                                                 required="#{not empty param['formPrincipal:btnGrabarP13']}"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>

                                    <h:panelGrid columns="2">
                                        <p:outputLabel for="impactoAmb" value="¿Análisis de impacto ambiental?:" style="font-weight: bold"/>
                                        <p:message for="impactoAmb"></p:message>
                                    </h:panelGrid>
                                    <pe:ckEditor id="impactoAmb" value="#{proyectoController.proyectoSelected.impactoAmbiental}" 
                                                 width="100%"
                                                 height="100"
                                                 required="#{not empty param['formPrincipal:btnGrabarP13']}"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>


                                    <h:panelGrid columns="2">
                                        <p:outputLabel for="sostenibilidadSocial" value="Sostenibilidad social: equidad, género, participación ciudadana:" style="font-weight: bold"/>
                                        <p:message for="sostenibilidadSocial"></p:message>
                                    </h:panelGrid>
                                    <pe:ckEditor id="sostenibilidadSocial" value="#{proyectoController.proyectoSelected.sostenibilidadSocial}" 
                                                 width="100%"
                                                 height="100"
                                                 required="#{not empty param['formPrincipal:btnGrabarP13']}"
                                                 toolbar="[['SelectAll','-', 'Table' , 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline','Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"
                                                 >  
                                    </pe:ckEditor>

                                </h:panelGrid> 
                            </p:panel>

                            <!--tab7: Presupuesto Detallado y Fuentes de Financiamiento-->
                            <p:panel id="panel7" rendered="#{proyectoController.selectedNodeCode=='1.6'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h7">
                                    <p:commandButton id="btnAgregarP7" widgetVar="btnAgregarP7" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                     actionListener="#{proyectoController.agregarP7}" 
                                                     rendered="#{!proyectoController.controlGrabar}" 
                                                     update=":formPrincipal:h7,:formPrincipal:p7"
                                                     >
                                    </p:commandButton>
                                </h:panelGrid>
                                <p:panel id="p7" visible="#{proyectoController.controlGrabar}" style="border: hidden; padding-left: 30px">
                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                        <p:commandButton id="btnGrabarP7" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                         update=":formPrincipal:panel7, :formPrincipal:message1" 
                                                         action ="#{proyectoController.registraP7}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelarP7" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                         process="@this"
                                                         update=":formPrincipal:panel7" 
                                                         action="#{proyectoController.cancelarP7(true)}">
                                        </p:commandButton>
                                    </h:panelGrid>  
                                    <h:panelGrid columns="2" cellpadding="3" id="pInput7" columnClasses="col1_presupuesto">
                                        <p:outputLabel for="selGrupoPartida" value="Grupo Partida:" style="font-weight: bold"/>
                                        <h:panelGrid columns="2">
                                            <p:selectOneMenu id="selGrupoPartida" value="#{proyectoController.grupoPartidaSelected}" 
                                                             required="#{not empty param['formPrincipal:btnGrabarP7']}" 
                                                             converter="entityConverter"
                                                             style="width:460px">
                                                <f:selectItem itemLabel="[[-Seleccione un grupo-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.grupoPartidaList}" var="grupoPartida" itemLabel="#{grupoPartida.scpId}-#{grupoPartida.scpNombre}" itemValue="#{grupoPartida}"/>
                                                <p:ajax event="change" 
                                                        listener="#{proyectoController.seleccionarGrupoPartida}"
                                                        update=":formPrincipal:selSubGrupo1Partida, :formPrincipal:selPartida" 
                                                        />
                                            </p:selectOneMenu>
                                            <p:message for="selGrupoPartida"></p:message>
                                        </h:panelGrid>

                                        <p:outputLabel for="selSubGrupo1Partida" value="SubGrupo Partida:" style="font-weight: bold"/>
                                        <h:panelGrid columns="2">
                                            <p:selectOneMenu id="selSubGrupo1Partida" value="#{proyectoController.subGrupo1PartidaSelected}" 
                                                             required="#{not empty param['formPrincipal:btnGrabarP7']}" 
                                                             converter="entityConverter"
                                                             style="width:460px">
                                                <f:selectItem itemLabel="[[-Seleccione un subgrupo-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.grupoPartidaSelected.seaClasificadorPresupList}" var="subGrupo1Partida" itemLabel="#{subGrupo1Partida.scpId}-#{subGrupo1Partida.scpNombre}" itemValue="#{subGrupo1Partida}"/>
                                                <p:ajax event="change" 
                                                        listener="#{proyectoController.seleccionarSubGrupo1Partida}"
                                                        update=":formPrincipal:selPartida" 
                                                        />
                                            </p:selectOneMenu> 
                                            <p:message for="selSubGrupo1Partida"></p:message>
                                        </h:panelGrid>


                                        <p:outputLabel for="selPartida" value="Partida Presupuestaria:" style="font-weight: bold"/>
                                        <h:panelGrid columns="2">
                                            <p:selectOneMenu id="selPartida" value="#{proyectoController.presupuestoProyectoSelected.partidaPresupuestaria}" 
                                                             required="#{not empty param['formPrincipal:btnGrabarP7']}" 
                                                             converter="entityConverter"
                                                             style="width:460px;">
                                                <f:selectItem itemLabel="[[-Seleccione una partida-]]" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoController.subGrupo1PartidaSelected.seaClasificadorPresupList}" var="partida" itemLabel="#{partida.scpId}-#{partida.scpNombre}" itemValue="#{partida}"/>
                                                <p:ajax event="change" 
                                                        listener="#{proyectoController.seleccionarPartida}"
                                                        update=":formPrincipal:selTipoGastoPresupuesto"
                                                        />
                                            </p:selectOneMenu>
                                            <p:message for="selPartida"></p:message>
                                        </h:panelGrid>                                                




                                        <p:outputLabel for="selTipoGastoPresupuesto" value="Tipo de Gasto:" style="font-weight: bold"/>
                                        <h:panelGrid columns="5">
                                            <p:selectOneMenu id="selTipoGastoPresupuesto" value="#{proyectoController.presupuestoProyectoSelected.tipoGasto}" 
                                                             required="#{not empty param['formPrincipal:btnGrabarP7']}" 
                                                             converter="omnifaces.SelectItemsConverter"
                                                             disabled="#{proyectoController.presupuestoProyectoSelected.partidaPresupuestaria.scpId=='710108'}"
                                                             style="width:160px">
                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                <f:selectItem itemLabel="Corriente" itemValue="C"/>
                                                <f:selectItem itemLabel="De Inversión" itemValue="I"/>
                                            </p:selectOneMenu>
                                            <p:message for="selTipoGastoPresupuesto"></p:message>
                                            <p:spacer height="1" width="60"></p:spacer>
                                            <p:outputLabel value="Valor (USD):" for="txtValorPresupuesto"/>
                                            <h:panelGrid columns="2">
                                                <pe:inputNumber id="txtValorPresupuesto" value="#{proyectoController.presupuestoProyectoSelected.valor}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber"  required="#{not empty param['formPrincipal:btnGrabarP7']}">  </pe:inputNumber>  
                                                <p:message for="txtValorPresupuesto"></p:message>
                                            </h:panelGrid>
                                        </h:panelGrid>


                                        <p:outputLabel value="Especificaciones técnicas:" for="txtEspecifTecnicasPresupuesto" style="font-weight: bold"/>
                                        <h:panelGrid columns="2">
                                            <p:inputTextarea id="txtEspecifTecnicasPresupuesto" cols="90" rows="4" maxlength="250"
                                                             value="#{proyectoController.presupuestoProyectoSelected.especificacionesTecnicas}" 
                                                             required="#{not empty param['formPrincipal:btnGrabarP7']}"></p:inputTextarea>  
                                            <p:message for="txtEspecifTecnicasPresupuesto"></p:message>
                                        </h:panelGrid>


                                    </h:panelGrid>
                                </p:panel>                        
                                <h:outputLabel value="Presupuesto por Partidas:" style="font-weight: bold"/>
                                <p:dataTable id="dataTPresupuestoPartidas" value="#{proyectoController.proyectoSelected.presupuestoProyectoList}" var="presupuestoProyecto" paginator="true"
                                             rows="10" rowIndexVar="index" resizableColumns="true"
                                             emptyMessage="No se encontraron Resultados"> 
                                    <p:column headerText="Nro." width="20">
                                        <h:outputText value="#{index + 1}"/>
                                    </p:column>
                                    <p:column headerText="Partida Presupuestaria" width="200" sortBy="#{presupuestoProyecto.partidaPresupuestaria.scpNombre}">
                                        <h:outputText value="#{presupuestoProyecto.partidaPresupuestaria.scpId}-#{presupuestoProyecto.partidaPresupuestaria.scpNombre}" style="white-space: pre-line"/>                                    
                                    </p:column>
                                    <p:column headerText="Tipo Gasto" sortBy="#{presupuestoProyecto.tipoGastoStr}" width="100">
                                        <h:outputText value="#{presupuestoProyecto.tipoGastoStr}" style="white-space: pre-line"/>     
                                    </p:column>

                                    <p:column headerText="Especificaciones Técnicas" sortBy="#{presupuestoProyecto.especificacionesTecnicas}">
                                        <h:outputText value="#{presupuestoProyecto.especificacionesTecnicas}" style="white-space: pre-line"/>     
                                    </p:column>
                                    <p:column headerText="Valor (USD)" sortBy="#{presupuestoProyecto.valor}" width="70">
                                        <h:outputText value="#{presupuestoProyecto.valor}" style="white-space: pre-line; float: right">
                                            <f:convertNumber locale="es_ES"  pattern="#,##0.00" />
                                        </h:outputText>
                                    </p:column>


                                    <p:column headerText="Editar" width="40" style="text-align: center">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         title="Editar el registro" action="#{proyectoController.seleccionarEdicionP7}"
                                                         update=":formPrincipal:h7, :formPrincipal:p7"
                                                         oncomplete="document.getElementById('formPrincipal:txtValorPresupuesto').focus();">
                                            <f:setPropertyActionListener value="#{presupuestoProyecto}" target="#{proyectoController.presupuestoProyectoSelected}"/>
                                        </p:commandButton>

                                    </p:column>

                                    <p:column headerText="Eliminar" width="40" style="text-align: center">
                                        <p:commandButton id="btnEliminarP7" title="Eliminar el registro" icon="ui-icon-trash"
                                                         onclick="PF('dialogDeletePresupuestoProyecto').show();" process="@this" >
                                            <f:setPropertyActionListener value="#{presupuestoProyecto}" target="#{proyectoController.presupuestoProyectoSelected}"/>
                                        </p:commandButton>
                                    </p:column>
                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="4" style="text-align:right" footerText="Total:" />
                                            <p:column footerText="#{proyectoController.proyectoSelected.totalPresupuesto}" style="text-align: right" >
                                            </p:column>
                                            <p:column colspan="2"/>
                                        </p:row>
                                    </p:columnGroup>                                               
                                </p:dataTable>
                            </p:panel>


                            <!--tab8: Estrategia de Ejecución-Cronograma-->
                            <p:panel id="panel8" rendered="#{proyectoController.selectedNodeCode=='1.7'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2">
                                    <p:commandButton id="btnGrabarP8" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                     update=":formPrincipal:timelineHitos, :formPrincipal:timelineActividades, :formPrincipal:message1" 
                                                     action ="#{proyectoController.registraP8}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                    </p:commandButton>   
                                    <p:commandButton id="btnCancelarP8" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                     process="@this"
                                                     update=":formPrincipal:panel8" 
                                                     action="#{proyectoController.cancelarP8(true)}">
                                    </p:commandButton>
                                </h:panelGrid>

                                <h:panelGrid columns="1" style="width: 100%">
                                    <h:panelGrid columns="3">
                                        <p:outputLabel value="Seleccione el Componente:" for="selComponenteHito" style="font-weight: bold"/>  
                                        <p:selectOneMenu id="selComponenteHito"
                                                         value="#{proyectoController.objetivoProyectoSelected}"
                                                         converter="omnifaces.SelectItemsConverter"
                                                         >
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.proyectoSelected.componentes}" var="comp" itemLabel="#{comp.svopObjetivoProy}" itemValue="#{comp}"/>
                                            <p:ajax event="change" update=":formPrincipal:timelineHitos, :formPrincipal:timelineActividades" 
                                                    listener="#{proyectoController.cancelarP8(true)}" 
                                                    onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                    />                                                    
                                        </p:selectOneMenu>  
                                        <p:message for="selComponenteHito"></p:message>


                                    </h:panelGrid>
                                    <p:outputLabel value="Hitos:" style="font-weight: bold"></p:outputLabel>
                                    <pe:timeline id="timelineHitos"
                                                 value="#{proyectoController.modelHitos}"  
                                                 var="hitoCronograma"
                                                 varGroup="hitoCronogramaGrupo"
                                                 zoomMin="518400000"
                                                 zoomMax="378432000000"
                                                 editable="#{proyectoController.objetivoProyectoSelected!=null}"  
                                                 zoomable="#{proyectoController.objetivoProyectoSelected!=null}"
                                                 moveable="#{proyectoController.objetivoProyectoSelected!=null}"
                                                 timeChangeable="true"
                                                 groupsChangeable="false"
                                                 widgetVar="timelineHitos"
                                                 eventMargin="10" 
                                                 eventMarginAxis="0"  
                                                 locale="es"
                                                 showNavigation="#{proyectoController.objetivoProyectoSelected!=null}"  
                                                 showButtonNew="#{proyectoController.objetivoProyectoSelected!=null}"  
                                                 axisOnTop="true" 
                                                 stackEvents="true"
                                                 height="140px"
                                                 width="100%"
                                                 start="#{proyectoController.start}"
                                                 end="#{proyectoController.end}"

                                                 > 
                                        <p:ajax event="changed" update="@none" listener="#{proyectoController.onChange2}"/>
                                        <p:ajax event="add" update=":formPrincipal:detalleHitoProyectoDlg"
                                                listener="#{proyectoController.onAdd}"
                                                oncomplete="PF('detalleHitoProyectoWdgt').show()"/>
                                        <p:ajax event="edit" update=":formPrincipal:detalleHitoProyectoDlg"
                                                listener="#{proyectoController.onEdit}"
                                                oncomplete="PF('detalleHitoProyectoWdgt').show()"/>
                                        <p:ajax event="delete" update=":formPrincipal:detalleHitoProyectoDlg"  
                                                listener="#{proyectoController.onDelete}"  
                                                />  
                                        <p:ajax event="rangechanged" listener="#{proyectoController.onRangeChanged}"/>


                                        <pe:javascript event="rangechange" execute="onrangechange1()"/>
                                        <f:facet name="group" rendered="false">
                                            <h:panelGrid columns="1" style="width: 100px" rendered="false">
                                                <h:outputText value="Hitos" rendered="false"/>
                                            </h:panelGrid>
                                        </f:facet> 
                                        <h:panelGrid columns="1">
                                            <p:outputLabel value="#{hitoCronograma.descripcion}"></p:outputLabel>
                                        </h:panelGrid>        
                                    </pe:timeline>   


                                    <p:outputLabel value="Actividades:" style="font-weight: bold"></p:outputLabel>
                                    <pe:timeline id="timelineActividades"
                                                 value="#{proyectoController.modelActividades}"  
                                                 var="actividadCronograma"
                                                 varGroup="actividadCronogramaGrupo"
                                                 zoomMin="518400000"
                                                 zoomMax="378432000000"
                                                 editable="#{proyectoController.objetivoProyectoSelected!=null}"  
                                                 zoomable="#{proyectoController.objetivoProyectoSelected!=null}"
                                                 moveable="#{proyectoController.objetivoProyectoSelected!=null}"
                                                 timeChangeable="true"
                                                 groupsChangeable="false"                                                         
                                                 widgetVar="timelineActividades"
                                                 eventMargin="10" 
                                                 eventMarginAxis="0"  
                                                 locale="es"
                                                 showNavigation="#{proyectoController.objetivoProyectoSelected!=null}"  
                                                 showButtonNew="#{proyectoController.objetivoProyectoSelected!=null}"  
                                                 axisOnTop="true" 
                                                 stackEvents="true"
                                                 width="100%"
                                                 start="#{proyectoController.start}"
                                                 end="#{proyectoController.end}"

                                                 > 
                                        <p:ajax event="changed" update="@none" listener="#{proyectoController.onChange}"/>  
                                        <pe:javascript event="rangechange" execute="onrangechange2()"/> 
                                        <p:ajax event="delete" update="@none" onstart="PF('timelineActividades').cancelDelete()"/>
                                        <p:ajax event="add" update="@none" onstart="PF('timelineActividades').cancelAdd()"/>
                                        <p:ajax event="edit" update=":formPrincipal:detalleActividadProyectoDlg"
                                                listener="#{proyectoController.onEdit}"
                                                oncomplete="PF('detalleActividadProyectoWdgt').show()"/>
                                        <p:ajax event="rangechanged" listener="#{proyectoController.onRangeChanged}"/>
                                        <f:facet name="group" rendered="false"> 
                                            <h:panelGrid columns="1" style="width: 100px" rendered="false">  
                                                <h:outputText value="Actividad: #{actividadCronogramaGrupo.svopObjetivoProy}" rendered="false"/>
                                            </h:panelGrid>                                                            
                                        </f:facet>  
                                        <h:panelGrid columns="1">   
                                            <h:outputText value="#{actividadCronograma.svopOrden}. #{actividadCronograma.svopObjetivoProy}" style="white-space: pre-line"/>
                                        </h:panelGrid>        
                                    </pe:timeline>
                                </h:panelGrid>

                            </p:panel>

                            <!--tab11: Acta de Concejo de Departamento-->
                            <p:panel id="panel11" rendered="#{proyectoController.selectedNodeCode=='1.8'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2">
                                    <p:commandButton id="btnGrabarP11" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                     update=":formPrincipal:message1" 
                                                     action ="#{proyectoController.registraP11}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                    </p:commandButton>   
                                    <p:commandButton id="btnCancelarP11" value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                     process="@this"
                                                     update=":formPrincipal:panel11" 
                                                     action="#{proyectoController.cancelarP11}">
                                    </p:commandButton>
                                </h:panelGrid>
                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0">

                                    <p:outputLabel value="Acta aprobación Concejo Departamento (.pdf):" style="font-weight: bold"/>
                                    <h:panelGrid columns="2">
                                        <h:panelGrid columns="1" cellpadding="0" cellspacing="0">
                                            <p:outputLabel id="lblNombreDocumento" value="#{proyectoController.proyectoSelected.nombreDocAprobacionConcejoDep}"/>
                                            <p:fileUpload id="fileDocumento" fileUploadListener="#{proyectoController.subirDocAprobacionConcejoDep}" 
                                                          mode="advanced"
                                                          label="Seleccionar"
                                                          invalidFileMessage="Tipo de archivo incorrecto: "
                                                          invalidSizeMessage="Tamaño del archivo seleccionado excede el límite permitido (10MB): "
                                                          update=":formPrincipal:lblNombreDocumento, :formPrincipal:docvAprobacionConcejoDep, :formPrincipal:message1" auto="true" sizeLimit="102400000" allowTypes="/(\.|\/)(pdf)$/" />

                                        </h:panelGrid>
                                        <p:message for="fileDocumento"></p:message>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <pe:documentViewer id="docvAprobacionConcejoDep" height="500" url="#{proyectoController.proyectoSelected.urlFinalDocAprobacionConcejoDep}"
                                                   style="width: 100%"/>                      
                            </p:panel>

                            <!--tabP201: Asignación de Docentes-->
                            <p:panel id="panel201" rendered="#{proyectoController.selectedNodeCode=='3.1'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid columns="2" cellpadding="7" id="h201">
                                    <p:commandButton value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                     actionListener="#{proyectoController.abrirBusquedaDocente}" 
                                                     >
                                        <p:ajax event="dialogReturn" listener="#{proyectoController.seleccionarDocente}" update=":formPrincipal:dtDocentesParticipantes, :formPrincipal:message1"
                                                onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"/>
                                    </p:commandButton>
                                    <p:commandButton id="btnEliminarDocente" value="Eliminar" title="Eliminar items seleccionados" icon="ui-icon-trash" 
                                                     onclick="PF('dialogDeleteDocentePart').show();" 
                                                     disabled="#{!proyectoController.seleccionadoAlguno}"
                                                     >
                                    </p:commandButton>
                                </h:panelGrid>
                                <h:outputLabel value="Docentes participantes:" style="font-weight: bold"/>
                                <p:dataTable id="dtDocentesParticipantes" value="#{proyectoController.proyectoSelected.participanteList}" var="docentePar" paginator="true"
                                             rows="10" rowIndexVar="index" resizableColumns="true"
                                             emptyMessage="No se encontraron Resultados"> 
                                    <p:column headerText="Nro." width="20">
                                        <h:outputText value="#{index + 1}"/>
                                    </p:column>
                                    <p:column headerText="Cédula" sortBy="#{docentePar.usuario.usuCc}" width="100">
                                        <h:outputText value="#{docentePar.usuario.usuCc}" style="white-space: pre-line"/>
                                    </p:column>
                                    <p:column headerText="Apellidos" sortBy="#{docentePar.usuario.usuApellidos}">
                                        <h:outputText value="#{docentePar.usuario.usuApellidos}" style="white-space: pre-line"/>
                                    </p:column>
                                    <p:column headerText="Nombres" sortBy="#{docentePar.usuario.usuNombres}">
                                        <h:outputText value="#{docentePar.usuario.usuNombres}" style="white-space: pre-line"/>
                                    </p:column>
                                    <p:column headerText="Departamento" sortBy="#{docentePar.departamento.stvsubjDesc}">
                                        <h:outputText value="#{docentePar.departamento.stvsubjDesc}" style="white-space: pre-line"/>
                                    </p:column>
                                    <p:column width="30" style="text-align: center">
                                        <f:facet name="header">
                                            <p:selectBooleanCheckbox value="#{proyectoController.seleccionadoTodos}">
                                                <p:ajax update=":formPrincipal:dtDocentesParticipantes, :formPrincipal:btnEliminarDocente" process=":formPrincipal:dtDocentesParticipantes" 
                                                        listener="#{proyectoController.seleccionarTodosEliminar}" />
                                            </p:selectBooleanCheckbox>
                                        </f:facet>
                                        <p:selectBooleanCheckbox value="#{docentePar.selected}">
                                            <p:ajax update=":formPrincipal:dtDocentesParticipantes, :formPrincipal:btnEliminarDocente" process=":formPrincipal:dtDocentesParticipantes" 
                                                    listener="#{proyectoController.seleccionarEliminar}" />
                                        </p:selectBooleanCheckbox>
                                    </p:column>
                                </p:dataTable>
                            </p:panel>


                            <!--tabP203: Informes de Avance-->
                            <p:panel id="panelAvance" rendered="#{proyectoController.selectedNodeCode=='3.3'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid id="pEdicionAvance" columns="1" >
                                    <h:panelGrid columns="3">
                                        <p:outputLabel value="Seleccione el Componente:" for="selComponenteAvance" style="font-weight: bold"/>  
                                        <p:selectOneMenu id="selComponenteAvance"
                                                         value="#{proyectoController.objetivoProyectoSelected}"
                                                         converter="omnifaces.SelectItemsConverter"
                                                         required="#{not empty param['formPrincipal:btnAgregarAvance']}"
                                                         >
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.proyectoSelected.componentes}" var="compAvance" itemLabel="#{compAvance.svopObjetivoProy}" itemValue="#{compAvance}"/>
                                            <p:ajax event="change" update=":formPrincipal:panelAvance" 
                                                    listener="#{proyectoController.cancelarAvance}" 
                                                    onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                    />                                                    
                                        </p:selectOneMenu>  
                                        <p:message for="selComponenteAvance"></p:message>


                                    </h:panelGrid>                                    
                                    <h:panelGrid columns="1" rendered="#{proyectoController.avanceComponenteSelected==null}">
                                        <p:commandButton id="btnAgregarAvance" value="Agregar" title="Agregar Información" icon="ui-icon-plus" 
                                                         update=":formPrincipal:pEdicionAvance"
                                                         actionListener="#{proyectoController.agregarAvance}" 
                                                         >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <h:panelGrid cellspacing="5" columns="1" rendered="#{proyectoController.avanceComponenteSelected!=null}">
                                        <p:fieldset legend="#{proyectoController.avanceComponenteSelected.id==null ? 'NUEVO INFORME DE AVANCE':'EDICION DE INFORME DE AVANCE'}">
                                            <h:panelGrid columns="2" cellpadding="0" cellspacing="0" style="margin-bottom: 10px">
                                                <p:commandButton id="btnGrabarAvance" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                                 update=":formPrincipal:panelAvance, :formPrincipal:message1" 
                                                                 action ="#{proyectoController.registrarAvance}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                                </p:commandButton>
                                                <p:commandButton value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                                 process="@this"
                                                                 update=":formPrincipal:panelAvance" 
                                                                 action="#{proyectoController.cancelarAvance}">
                                                </p:commandButton>
                                            </h:panelGrid>                                          

                                            <h:panelGrid columns="2" cellpadding="0" cellspacing="0">

                                                <p:outputLabel for="txtFechaAvance" value="Fecha:" style="font-weight: bold"></p:outputLabel>
                                                <h:panelGrid columns="2">
                                                    <p:calendar id="txtFechaAvance" navigator="true" value="#{proyectoController.avanceComponenteSelected.fecha}" yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                                                required="#{not empty param['formPrincipal:btnGrabarAvance']}">
                                                    </p:calendar>                                            
                                                    <p:message for="txtFechaAvance"></p:message>
                                                </h:panelGrid>

                                                <p:outputLabel for="txtObservacionAvance" value="Observación:" style="font-weight: bold"></p:outputLabel>
                                                <h:panelGrid columns="2">
                                                    <p:inputTextarea id="txtObservacionAvance" cols="100" rows="2"
                                                                     value="#{proyectoController.avanceComponenteSelected.observacion}"></p:inputTextarea>
                                                    <p:message for="txtObservacionAvance"></p:message>
                                                </h:panelGrid>



                                            </h:panelGrid>
                                            <h:outputLabel value="Actividades:" style="font-weight: bold"/>
                                            <p:dataTable value="#{proyectoController.avanceComponenteSelected.avanceActividadList}" var="avanceActiv"
                                                         editable="true" style="width: 95%" rowIndexVar="index"  resizableColumns="true" 
                                                         emptyMessage="No se encontraron resultados">

                                                <p:column headerText="Nro." style="width:20px">
                                                    <h:outputText value="#{index + 1}"/>
                                                </p:column>
                                                <p:column headerText="Actividad" style="width: 400px;white-space:pre-line">
                                                    <h:outputText value="#{avanceActiv.actividad.svopObjetivoProy}" style="white-space: pre-line; width: 100%"/>
                                                </p:column>
                                                <p:column headerText="Fecha Inicio" width="70">
                                                    <h:outputText value="#{avanceActiv.actividad.fechaInicio}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Fecha Fin" width="70">
                                                    <h:outputText value="#{avanceActiv.actividad.fechaFin}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                    </h:outputText>
                                                </p:column>                                            
                                                <p:column headerText="Avance(%)" style="width: 75px;white-space:pre-line">
                                                    <pe:inputNumber id="txtPorcentajeAvance" value="#{avanceActiv.porcentajeAvance}" decimalPlaces="0" minValue="0" maxValue="100" styleClass="inputNumber"
                                                                    required="#{not empty param['formPrincipal:btnGrabarAvance']}">
                                                    </pe:inputNumber>
                                                    <p:message for="txtPorcentajeAvance"></p:message>
                                                </p:column>     
                                                <p:column headerText="Observación" style="white-space:pre-line">
                                                    <p:inputTextarea rows="1" style="width: 97%" value="#{avanceActiv.observacion}" autoResize="false" maxlength="250"></p:inputTextarea>  
                                                </p:column>
                                            </p:dataTable>   
                                        </p:fieldset>

                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="Listado de informes de avance:" style="font-weight: bold"/>
                                    <p:dataTable value="#{proyectoController.objetivoProyectoSelected.avanceComponenteList}" var="avanceComp" paginator="true"
                                                 style="width: 96%"
                                                 rows="10" rowIndexVar="index" resizableColumns="true"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:column style="width: 20px">
                                            <p:rowToggler/>
                                        </p:column>
                                        <p:column headerText="Nro." width="20">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>

                                        <p:column headerText="Fecha" width="120" sortBy="#{avanceComp.fecha}">
                                            <h:outputText value="#{avanceComp.fecha}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Observación" sortBy="#{avanceComp.observacion}">
                                            <h:outputText value="#{avanceComp.observacion}"/>
                                        </p:column>

                                        <p:column headerText="Editar" width="35" style ="text-align: center">
                                            <p:commandButton icon="ui-icon-pencil"
                                                             title="Editar el registro" action="#{proyectoController.seleccionarEdicion()}"
                                                             update=":formPrincipal:panelAvance"
                                                             >
                                                <f:setPropertyActionListener value="#{avanceComp}" target="#{proyectoController.avanceComponenteSelected}"/>
                                            </p:commandButton>

                                        </p:column>                                         

                                        <p:column headerText="Eliminar " style="width: 50px; text-align: center" >
                                            <p:commandButton style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                             onclick="PF('dialogDeleteAvanceComponente').show();" process="@this">
                                                <f:setPropertyActionListener value="#{avanceComp}" target="#{proyectoController.avanceComponenteSelected}" />
                                            </p:commandButton>   
                                        </p:column>



                                        <p:rowExpansion >
                                            <p:panelGrid columns="1" style="border:hidden;width:100%; "  >
                                                <p:dataTable value="#{avanceComp.avanceActividadList}" var="avanceActividad"
                                                             rendered="#{not empty avanceComp.avanceActividadList}"
                                                             rowIndexVar="index" style="width: 98%; padding-left: 30px">
                                                    <p:column headerText="Nro." style="width:20px">
                                                        <h:outputText value="#{index + 1}" />
                                                    </p:column>
                                                    <p:column headerText="Actividad" width="350">
                                                        <h:outputText value="#{avanceActividad.actividad.svopObjetivoProy}" style="white-space: pre-line"/>
                                                    </p:column>
                                                    <p:column headerText="Fecha Inicio" width="70">
                                                        <h:outputText value="#{avanceActividad.actividad.fechaInicio}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Fecha Fin" width="70">
                                                        <h:outputText value="#{avanceActividad.actividad.fechaFin}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Avance(%)" style="width: 75px;white-space:pre-line; text-align: center">
                                                        <h:outputText value="#{avanceActividad.porcentajeAvance}" style="white-space: pre-line"/>
                                                    </p:column>     
                                                    <p:column headerText="Observación" style="white-space:pre-line">
                                                        <h:outputText value="#{avanceActividad.observacion}" style="white-space: pre-line"/>
                                                    </p:column>

                                                </p:dataTable>
                                            </p:panelGrid>
                                        </p:rowExpansion>                                        

                                    </p:dataTable>                                  

                                </h:panelGrid>

                            </p:panel>


                            <!--tabP301: Seguimiento-->
                            <p:panel id="panelSeguimiento" rendered="#{proyectoController.selectedNodeCode=='4'}" style="border: hidden; padding-left: 20px;">
                                <h:panelGrid id="pEdicionSeguimiento" columns="1" >
                                    <h:panelGrid columns="2">
                                        <p:outputLabel value="Seleccione el Componente:" for="selComponenteSeguimiento" style="font-weight: bold"/>  
                                        <p:selectOneMenu id="selComponenteSeguimiento"
                                                         value="#{proyectoController.objetivoProyectoSelected}"
                                                         converter="omnifaces.SelectItemsConverter"
                                                         >
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoController.proyectoSelected.componentes}" var="compSeguimiento" itemLabel="#{compSeguimiento.svopObjetivoProy}" itemValue="#{compSeguimiento}"/>
                                            <p:ajax event="change" update=":formPrincipal:panelSeguimiento" 
                                                    listener="#{proyectoController.cancelarAvance}" 
                                                    onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                    />                                                    
                                        </p:selectOneMenu>  
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="Listado de informes de avance:" style="font-weight: bold"/>
                                    <p:dataTable value="#{proyectoController.objetivoProyectoSelected.avanceComponenteList}" var="avanceCompSeguimiento" paginator="true"
                                                 style="width: 96%"
                                                 rows="10" rowIndexVar="index" resizableColumns="true"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:column style="width: 20px">
                                            <p:rowToggler/>
                                        </p:column>
                                        <p:column headerText="Nro." width="20">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>

                                        <p:column headerText="Fecha" width="120" sortBy="#{avanceCompSeguimiento.fecha}">
                                            <h:outputText value="#{avanceCompSeguimiento.fecha}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Observación" sortBy="#{avanceCompSeguimiento.observacion}">
                                            <h:outputText value="#{avanceCompSeguimiento.observacion}"/>
                                        </p:column>

                                        <p:rowExpansion >
                                            <p:panelGrid columns="1" style="border:hidden;width:100%; "  >
                                                <p:dataTable value="#{avanceCompSeguimiento.avanceActividadList}" var="avanceActivSeguimiento"
                                                             rendered="#{not empty avanceCompSeguimiento.avanceActividadList}"
                                                             rowIndexVar="index" style="width: 98%; padding-left: 30px">
                                                    <p:column headerText="Nro." style="width:20px">
                                                        <h:outputText value="#{index + 1}" />
                                                    </p:column>
                                                    <p:column headerText="Actividad" width="350">
                                                        <h:outputText value="#{avanceActivSeguimiento.actividad.svopObjetivoProy}" style="white-space: pre-line"/>
                                                    </p:column>
                                                    <p:column headerText="Fecha Inicio" width="70">
                                                        <h:outputText value="#{avanceActivSeguimiento.actividad.fechaInicio}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Fecha Fin" width="70">
                                                        <h:outputText value="#{avanceActivSeguimiento.actividad.fechaFin}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Avance(%)" style="width: 75px;white-space:pre-line; text-align: center">
                                                        <h:outputText value="#{avanceActivSeguimiento.porcentajeAvance}" style="white-space: pre-line"/>
                                                    </p:column>     
                                                    <p:column headerText="Observación" style="white-space:pre-line">
                                                        <h:outputText value="#{avanceActivSeguimiento.observacion}" style="white-space: pre-line"/>
                                                    </p:column>

                                                </p:dataTable>
                                            </p:panelGrid>
                                        </p:rowExpansion>                                        

                                    </p:dataTable>                                  

                                </h:panelGrid>                                


                            </p:panel>



                            <!--panelCalificacion-->
                            <p:panel id="panelCalificacion" rendered="#{proyectoController.selectedNodeCode=='2.2'}" style="border: hidden; margin-left: 20px;">
                                <h:panelGrid id="panelEdicionCalificacion" columns="1" style="width: 100%; margin-bottom: 10px">
                                    <h:panelGrid columns="2" rendered="#{proyectoController.calificacionProyectoSelected==null}">
                                        <p:commandButton value="Agregar" title="Agregar Calificación" icon="ui-icon-plus" 
                                                         update=":formPrincipal:panelEdicionCalificacion"
                                                         disabled="#{proyectoController.proyectoSelected.estado!='CRE'}"
                                                         actionListener="#{proyectoController.nuevoCalificacion}" 
                                                         >
                                        </p:commandButton>
                                        <p:commandButton value="Finalizar" title="Finalizar Calificación" icon="ui-icon-plus" 
                                                         update=":formPrincipal:panelMenu, :formPrincipal:panelCentral,  :formPrincipal:message1"
                                                         disabled="#{proyectoController.proyectoSelected.calificacionList==null or proyectoController.proyectoSelected.calificacionList.size()==0 or proyectoController.proyectoSelected.estado!='CRE'}"
                                                         actionListener="#{proyectoController.finalizarCalificacion}" 
                                                         >
                                            <p:confirm header="Confirmación" message="Confirma la finalización del proceso de calificación con el puntaje actual ?" icon="ui-icon-alert" ></p:confirm>
                                        </p:commandButton>

                                    </h:panelGrid>
                                    <h:panelGrid cellspacing="5" columns="1" style="width: 100%"
                                                 rendered="#{proyectoController.calificacionProyectoSelected !=null}">
                                        <p:fieldset 
                                            legend="#{proyectoController.calificacionProyectoSelected.id==null ? 'NUEVA CALIFICACION':'EDICION DE CALIFICACION'}">
                                            <h:panelGrid columns="2" cellpadding="0" cellspacing="5" style="margin-top: 10px; margin-bottom: 10px">
                                                <p:commandButton id="btnGrabarCalificacion" value="Grabar" title="Grabar Información" icon="ui-icon-locked" 
                                                                 update=":formPrincipal:panelCalificacion, :formPrincipal:message1" 
                                                                 action ="#{proyectoController.grabarCalificacion}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                                </p:commandButton>
                                                <p:commandButton value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                                 process="@this"
                                                                 update=":formPrincipal:panelCalificacion" 
                                                                 action="#{proyectoController.cancelarEdicionCalificacion(true)}">
                                                </p:commandButton>
                                            </h:panelGrid>                                          

                                            <h:panelGrid columns="2" cellpadding="0" cellspacing="0" style="margin-bottom: 10px">
                                                <p:outputLabel for="txtFechaCalificacion" value="Fecha:" style="font-weight: bold"></p:outputLabel>
                                                <p:inputText id="txtFechaCalificacion" value="#{proyectoController.calificacionProyectoSelected.fecha}"
                                                             style="width: 100px" disabled="true">
                                                    <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                </p:inputText>

                                                <p:outputLabel for="txtObservacionesCalificacion" value="Observaciones:" style="font-weight: bold"></p:outputLabel>
                                                <h:panelGrid columns="2">
                                                    <p:inputTextarea id="txtObservacionesCalificacion" value="#{proyectoController.calificacionProyectoSelected.observaciones}"
                                                                     cols="150" rows="3" maxlength="1000"
                                                                     required="#{not empty param['formPrincipal:btnGrabarCalificacion']}">
                                                    </p:inputTextarea>
                                                    <p:message for="txtObservacionesCalificacion"></p:message>
                                                </h:panelGrid>
                                            </h:panelGrid>
                                            <p:dataTable id="dtCalificaciones" value="#{proyectoController.calificacionProyectoSelected.detalleCalificacionList}" var="detalleCalificacion"
                                                         editable="true" rowIndexVar="index"  resizableColumns="true" style="margin-bottom: 10px"
                                                         emptyMessage="No se encontraron resultados">

                                                <p:column headerText="Nro." width="20" >
                                                    <h:outputText value="#{index + 1}"/>
                                                </p:column>
                                                <p:column headerText="Parámetro" style="white-space:pre-line">
                                                    <h:outputText value="#{detalleCalificacion.parametroEvaluacion.descripcion}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Valoración" width="170">
                                                    <table>
                                                        <tr>
                                                            <td style="padding: 0px; border: hidden">
                                                                <p:selectOneMenu id="selOpcionValoracion"
                                                                                 required="#{not empty param['formPrincipal:btnGrabarCalificacion']}" 
                                                                                 converter="omnifaces.SelectItemsConverter"
                                                                                 value="#{detalleCalificacion.valoracionParametroEvaluacion}" 
                                                                                 style="width: 150px"
                                                                                 >
                                                                    <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                                    <f:selectItems value="#{detalleCalificacion.parametroEvaluacion.valoracionList}" var="valorCalificacion" itemLabel="#{valorCalificacion.descripcion}" itemValue="#{valorCalificacion}"/>
                                                                    <p:ajax event="change" update=":formPrincipal:dtCalificaciones"
                                                                            />
                                                                </p:selectOneMenu>

                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td style="padding: 0px; border: hidden">
                                                                <p:message for="selOpcionValoracion"></p:message>
                                                            </td>

                                                        </tr>

                                                    </table>
                                                </p:column>
                                                <p:column headerText="Puntaje" width="70" style="text-align: center">
                                                    <h:outputText value="#{detalleCalificacion.valoracionParametroEvaluacion.puntaje}"/>
                                                </p:column>
                                                <p:columnGroup type="footer">
                                                    <p:row>
                                                        <p:column colspan="3" style="text-align:right" footerText="Total:" />
                                                        <p:column footerText="#{proyectoController.calificacionProyectoSelected.totalPuntaje}" style="text-align: center" >
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column colspan="3" style="text-align:right" footerText="Mínimo requerido:" />
                                                        <p:column footerText="70" style="text-align: center" >
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column colspan="3" style="text-align:right" footerText="Resultado:" />
                                                        <p:column footerText="#{proyectoController.calificacionProyectoSelected.resultado}" style="text-align: center" >
                                                        </p:column>
                                                    </p:row>

                                                </p:columnGroup>                                                 
                                            </p:dataTable>                                               
                                        </p:fieldset>

                                    </h:panelGrid>

                                </h:panelGrid>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="Listado de calificaciones:" style="font-weight: bold"/>
                                    <p:dataTable value="#{proyectoController.proyectoSelected.calificacionList}" var="calificacionProy"
                                                 expandedRow="#{calificacionProy.expanded}" rowIndexVar="index"  
                                                 resizableColumns="true"
                                                 emptyMessage="No se encontraron Resultados"> 
                                        <p:ajax event="rowToggle" listener="#{proyectoController.onRowToggle}"/>
                                        <p:column width="40">
                                            <p:rowToggler/>
                                        </p:column>
                                        <p:column headerText="Nro." style="width:20px">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Fecha" width="70">
                                            <h:outputText value="#{calificacionProy.fecha}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                            </h:outputText>
                                        </p:column>
                                        <p:column headerText="Observaciones">
                                            <h:outputText value="#{calificacionProy.observaciones}" style="white-space: pre-line"></h:outputText>
                                        </p:column>
                                        <p:rowExpansion >
                                            <p:panel style="border:hidden;width:98%; padding-left: 30px"  >
                                                <h:outputLabel value="Detalle de calificación:" style="font-weight: bold"/>
                                                <p:dataTable value="#{calificacionProy.detalleCalificacionList}" var="detalleCalificacion"
                                                             rendered="#{not empty calificacionProy.detalleCalificacionList}"
                                                             rowIndexVar="index">
                                                    <p:column headerText="Nro." style="width:20px">
                                                        <h:outputText value="#{index + 1}"/>
                                                    </p:column>
                                                    <p:column headerText="Parámetro">
                                                        <h:outputText value="#{detalleCalificacion.parametroEvaluacion.descripcion}" style="white-space: pre-line"></h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Respuesta" width="120">
                                                        <h:outputText value="#{detalleCalificacion.valoracionParametroEvaluacion.descripcion}" style="white-space: pre-line"></h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Puntaje" width="70" style="text-align: center">
                                                        <h:outputText value="#{detalleCalificacion.valoracionParametroEvaluacion.puntaje}" style="white-space: pre-line"></h:outputText>
                                                    </p:column>
                                                    <p:columnGroup type="footer">
                                                        <p:row>
                                                            <p:column colspan="3" style="text-align:right" footerText="Total:" />
                                                            <p:column footerText="#{calificacionProy.totalPuntaje}" style="text-align: center" >
                                                            </p:column>
                                                        </p:row>
                                                        <p:row>
                                                            <p:column colspan="3" style="text-align:right" footerText="Mínimo requerido:" />
                                                            <p:column footerText="70" style="text-align: center" >
                                                            </p:column>
                                                        </p:row>
                                                        <p:row>
                                                            <p:column colspan="3" style="text-align:right" footerText="Resultado:" />
                                                            <p:column footerText="#{calificacionProy.resultado}" style="text-align: center" >
                                                            </p:column>
                                                        </p:row>

                                                    </p:columnGroup>                                        

                                                </p:dataTable>
                                            </p:panel>                                            
                                        </p:rowExpansion>                                        

                                    </p:dataTable>                                  

                                </h:panelGrid>                              


                            </p:panel>                            

                        </p:panel>


                    </h:panelGrid>

                </p:panel>




                <p:dialog id="dialogDeleteProyecto" header="Confirmación" widgetVar="dialogDeleteProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el proyecto actual ?"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteProyecto').hide();">
                                    <p:ajax listener ="#{programaVinculacionController.eliminarPrograma()}" />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteProyecto').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>
                <p:dialog id="dialogDeleteObjetivoPrograma" header="Confirmación" widgetVar="dialogDeleteObjetivoPrograma" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el objetivo del proyecto seleccionado?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivoPrograma').hide();">
                                    <p:ajax listener ="#{proyectoController.eliminarP15()}"
                                            update=":formPrincipal:dataTObjetivos, :formPrincipal:p15, :formPrincipal:message1" 
                                            />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivoPrograma').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>

                <p:dialog id="dialogDeleteDocenteProyecto" header="Confirmación" widgetVar="dialogDeleteDocenteProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el objetivo del proyecto seleccionado?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteDocenteProyecto').hide();">
                                    <p:ajax listener ="#{proyectoController.eliminarP5()}"
                                            update=":formPrincipal:dataTDocentesParticipantes, :formPrincipal:p5,:formPrincipal:h5, :formPrincipal:message1" 
                                            />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteDocenteProyecto').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>

                <p:dialog id="dialogDeleteEstudianteProyecto" header="Confirmación" widgetVar="dialogDeleteEstudianteProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar la carrera seleccionada?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteEstudianteProyecto').hide();">
                                    <p:ajax listener ="#{proyectoController.eliminarP6()}"
                                            update=":formPrincipal:dataTEstudiantesParticipantes, :formPrincipal:p6,:formPrincipal:h6, :formPrincipal:message1" 
                                            />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteEstudianteProyecto').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>


                <p:dialog id="dialogDeletePresupuestoProyecto" header="Confirmación" widgetVar="dialogDeletePresupuestoProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el presupuesto del proyecto seleccionado?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeletePresupuestoProyecto').hide();">
                                    <p:ajax listener ="#{proyectoController.eliminarP7()}"
                                            update=":formPrincipal:panel7, :formPrincipal:message1" 
                                            />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeletePresupuestoProyecto').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>
                <p:dialog id="dialogDeleteObjetivosPlanBVivir" header="Confirmación" widgetVar="dialogDeleteObjetivosPlanBVivir" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el objetivo seleccionado?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivosPlanBVivir').hi
                                        de();">
                                    <p:ajax update="formPrincipal:panel16, :formPrincipal:message1 " listener ="#{proyectoController.eliminarP16()}" />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivosPlanBVivir').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>
                <p:dialog id="dialogDeleteObjetivoEstrategico" header="Confirmación" widgetVar="dialogDeleteObjetivoEstrategico" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el objetivo seleccionado?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivoEstrategico').hi
                                        de();">
                                    <p:ajax update=":formPrincipal:panel17, :formPrincipal:message1" listener ="#{proyectoController.eliminarP17()}" />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivoEstrategico').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>        
                <p:dialog id="dialogDeleteObjetivoProyecto" header="Confirmación" widgetVar="dialogDeleteObjetivoProyecto" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el objetivo del proyecto seleccionado?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteObjetivoProyecto')
                                                .hide();">
                                    <p:ajax update=":formPrincipal:panel15, :formPrincipal:message1" listener ="#{proyectoController.eliminarP15()}" />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteObjetivoProyecto').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>
                <p:dialog id="dialogDeleteDocentePart" header="Confirmación" widgetVar="dialogDeleteDocentePart" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar los docentes seleccionados?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteDocentePart').hide();">
                                    <p:ajax update=":formPrincipal:panel201, :formPrincipal:message1" listener ="#{proyectoController.eliminarDocentesParticipantes}" />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteDocentePart').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>




                <p:dialog id="detalleHitoProyectoDlg" header="Hito del Proyecto" widgetVar="detalleHitoProyectoWdgt"  
                          appendTo="@(body)" width="500"
                          resizable="false" modal="true" closable="false"
                          style="font-weight: bold"
                          showEffect="clip" hideEffect="clip">  
                    <h:form id="form1" >
                        <p:growl id="message2" widgetVar="message1" showDetail="true" life="3000"></p:growl>
                        <h:panelGrid id="panel1" columns="2">  
                            <p:outputLabel value="Descripción:" for="txtNombre"/>
                            <h:panelGrid columns="2">
                                <p:inputText id="txtNombre"
                                             style="width: 260px"
                                             value="#{proyectoController.event.data.descripcion}"
                                             rendered="#{not empty proyectoController.event}"
                                             required="#{not empty param['formPrincipal:form1:btnGrabarHito']}"
                                             />  
                                <p:message for="txtNombre"></p:message>
                            </h:panelGrid>


                            <p:outputLabel value="Fecha:" for="calFechaHito" />  
                            <h:panelGrid columns="2">
                                <p:calendar id="calFechaHito" navigator="true" 
                                            value="#{proyectoController.event.startDate}" 
                                            required="#{not empty param['formPrincipal:form1:btnGrabarHito']}"
                                            yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                            rendered="#{not empty proyectoController.event}"  
                                            >
                                </p:calendar>
                                <p:message for="calFechaHito"></p:message>
                            </h:panelGrid>

                            <p:outputLabel value="Resultados esperados:" for="txtLogros"/>
                            <h:panelGrid columns="2">
                                <p:inputTextarea id="txtLogros" cols="50" rows="7" value="#{proyectoController.event.data.logro}" 
                                                 rendered="#{not empty proyectoController.event}"  
                                                 required="#{not empty param['formPrincipal:form1:btnGrabarHito']}"
                                                 >
                                </p:inputTextarea> 
                                <p:message for="txtLogros"></p:message>
                            </h:panelGrid>


                        </h:panelGrid>  
                        <center>

                            <p:commandButton id="btnGrabarHito" value="Aceptar" 
                                             action="#{proyectoController.registraHitoProyecto}"  
                                             update="panel1"
                                             process="form1"
                                             oncomplete="if(!args.validationFailed){PF('detalleHitoProyectoWdgt').hide();}"/>  
                            <p:commandButton id="btnCancelarHito" value="Cancelar" 
                                             action="#{proyectoController.cancelarRegistroHitoProyecto}"
                                             update="formPrincipal:timelineHitos"
                                             process="form1"
                                             oncomplete="if(!args.validationFailed){PF('detalleHitoProyectoWdgt').hide();}"/>
                        </center>
                    </h:form>
                </p:dialog>   


                <p:dialog id="detalleActividadProyectoDlg" header="Actividad del Proyecto" widgetVar="detalleActividadProyectoWdgt"  
                          appendTo="@(body)" width="500"
                          resizable="false" modal="true" closable="true" closeOnEscape="true"
                          style="font-weight: bold"
                          focus="formPrincipal:form2:btnGrabarActividad"
                          showEffect="clip" hideEffect="clip">  
                    <h:form id="form2" >
                        <p:growl id="message2" widgetVar="message1" showDetail="true" life="3000"></p:growl>
                        <h:panelGrid id="panel1" columns="2">  
                            <p:outputLabel value="Descripción:"/>
                            <p:outputLabel value="#{proyectoController.event.data.svopObjetivoProy}" style="font-weight: normal"/>

                            <p:outputLabel value="Fecha Inicio:" for="calFechaInicioAct"/>  
                            <h:panelGrid columns="2">
                                <p:calendar id="calFechaInicioAct" 
                                            value="#{proyectoController.event.startDate}" 
                                            yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                            rendered="#{not empty proyectoController.event}"  
                                            >
                                </p:calendar>
                                <p:message for="calFechaInicioAct"></p:message>
                            </h:panelGrid>

                            <p:outputLabel value="Fecha Fin:" for="calFechaFinAct"/>  
                            <h:panelGrid columns="2">
                                <p:calendar id="calFechaFinAct" navigator="true" 
                                            value="#{proyectoController.event.endDate}" 
                                            required="#{not empty param['formPrincipal:form2:btnGrabarActividad']}"
                                            yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                            rendered="#{not empty proyectoController.event}"  
                                            >
                                </p:calendar>
                                <p:message for="calFechaFinAct"></p:message>
                            </h:panelGrid>




                        </h:panelGrid>  
                        <center>

                            <p:commandButton id="btnGrabarActividad" value="Aceptar" 
                                             action="#{proyectoController.registraActividadProyecto}"  
                                             update="panel1, formPrincipal:timelineActividades"
                                             process="form2"
                                             oncomplete="if(!args.validationFailed){PF('detalleActividadProyectoWdgt').hide();}"/>  
                            <p:commandButton id="btnCancelarActividad" value="Cancelar" 
                                             action="#{proyectoController.cancelarRegistroHitoProyecto}"
                                             update="formPrincipal:timelineHitos"
                                             process="form2"
                                             oncomplete="if(!args.validationFailed){PF('detalleActividadProyectoWdgt').hide();}"/>
                        </center>
                    </h:form>
                </p:dialog>

                <p:dialog id="dialogDeleteAvanceComponente" header="Confirmación" widgetVar="dialogDeleteAvanceComponente" resizable="false" width="400" modal="true" closeOnEscape="true" style=" text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form>
                        <p:outputPanel>
                            <center>
                                <h:panelGrid columns="1">
                                    <h:outputLabel value="¿Está seguro que desea eliminar el registro de seguimiento seleccionado?" style=" text-align: center"/>
                                </h:panelGrid>
                            </center>
                            <p:spacer height="10"></p:spacer>
                            <center>
                                <p:commandButton value="Aceptar" style="margin:0" onclick="PF('dialogDeleteAvanceComponente').hide
                                                ();">
                                    <p:ajax update="formPrincipal:panelAvance, :formPrincipal:message1 " listener ="#{proyectoController.eliminarAvance()}" />
                                </p:commandButton>
                                <p:spacer width="10" ></p:spacer>
                                <p:commandButton value="Cancelar" style="margin:0" onclick="PF('dialogDeleteAvanceComponente').hide();"></p:commandButton>
                            </center>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>                


            </ui:define>
        </ui:composition>






        // This script should be included after the Timeline component, e.g. close at the body tag  
        <h:outputScript id="timelineJS" target="body">  
            /* <![CDATA[ */      
            $(function() {  
            onrangechange1();  // to set the range equal initially on page load  
            });  
            /* ]]> */  
        </h:outputScript>  
    </h:body>
</html>

