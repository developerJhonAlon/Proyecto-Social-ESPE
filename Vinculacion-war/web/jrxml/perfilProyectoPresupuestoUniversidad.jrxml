<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="perfilProyectoPresupuestoUniversidad" language="groovy" pageWidth="595" pageHeight="842" columnWidth="575" leftMargin="0" rightMargin="20" topMargin="0" bottomMargin="0" uuid="7802725a-c9b2-4bd5-b72d-0aa65d1a1f4f">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<subDataset name="dataset1" uuid="187a2aed-c032-4cc5-a11a-f0fd1b2508a4"/>
	<parameter name="idProyecto" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[31]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA["E:\\CTT2015\\APP\\Vinculacion\\Vinculacion-war\\web\\jrxml\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select SZDTAVPRESUP.SZTVPRESUP_CODE PRESUP_ID, SEA_CLASIFICADOR_PRESUP.SCP_ID || '. ' || SEA_CLASIFICADOR_PRESUP.SCP_NOMBRE PARTIDA,
SEA_CLASIFICADOR_PRESUP_PADRE.SCP_ID || '. ' || SEA_CLASIFICADOR_PRESUP_PADRE.SCP_NOMBRE PARTIDA_PADRE,
SEA_CLASIFICADOR_PRESUP_PADRE2.SCP_ID || '. ' || SEA_CLASIFICADOR_PRESUP_PADRE2.SCP_NOMBRE PARTIDA_PADRE2,
SEA_CLASIFICADOR_PRESUP_PADRE3.SCP_ID || '. ' || SEA_CLASIFICADOR_PRESUP_PADRE3.SCP_NOMBRE PARTIDA_PADRE3,
SZDTAVPRESUP.SZTVPRESUP_ESPTECNIC  DESCRIPCION,
SZDTAVPRESUP.SZTVPRESUP_TIPOGASTO,
SZDTAVPRESUP.SZTVPRESUP_CANTIDAD,
SZDTAVPRESUP.SZTVPRESUP_VALOR
from SZDTAVPRESUP , SZDTAVCLASPRE, SEA_CLASIFICADOR_PRESUP, SEA_CLASIFICADOR_PRESUP SEA_CLASIFICADOR_PRESUP_PADRE, SEA_CLASIFICADOR_PRESUP SEA_CLASIFICADOR_PRESUP_PADRE2, SEA_CLASIFICADOR_PRESUP SEA_CLASIFICADOR_PRESUP_PADRE3
where SZTVPROYEC_CODE= $P{idProyecto}
and SZDTAVPRESUP.SZTVPRESUP_TIPO=1
and SZDTAVPRESUP.SZTVCLASPRE_CODE = SZDTAVCLASPRE.SZTVCLASPRE_CODE
and SZDTAVCLASPRE.SCP_ID = SEA_CLASIFICADOR_PRESUP.SCP_ID
and SEA_CLASIFICADOR_PRESUP.SCP_PADRE = SEA_CLASIFICADOR_PRESUP_PADRE.SCP_ID
and SEA_CLASIFICADOR_PRESUP_PADRE.SCP_PADRE = SEA_CLASIFICADOR_PRESUP_PADRE2.SCP_ID
and SEA_CLASIFICADOR_PRESUP_PADRE2.SCP_PADRE = SEA_CLASIFICADOR_PRESUP_PADRE3.SCP_ID]]>
	</queryString>
	<field name="PRESUP_ID" class="java.math.BigDecimal"/>
	<field name="PARTIDA" class="java.lang.String"/>
	<field name="PARTIDA_PADRE" class="java.lang.String"/>
	<field name="PARTIDA_PADRE2" class="java.lang.String"/>
	<field name="PARTIDA_PADRE3" class="java.lang.String"/>
	<field name="DESCRIPCION" class="java.lang.String"/>
	<field name="SZTVPRESUP_TIPOGASTO" class="java.lang.String"/>
	<field name="SZTVPRESUP_CANTIDAD" class="java.math.BigDecimal"/>
	<field name="SZTVPRESUP_VALOR" class="java.math.BigDecimal"/>
	<variable name="total" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{SZTVPRESUP_CANTIDAD}*$F{SZTVPRESUP_VALOR}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="24">
			<staticText>
				<reportElement x="0" y="0" width="190" height="24" uuid="169e91ba-6343-4850-8e21-09a67d9f6cff"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Partida Presupuestaria]]></text>
			</staticText>
			<staticText>
				<reportElement x="190" y="0" width="92" height="24" uuid="011892d7-172d-4b3b-b343-9ef79ba4c461"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[DescripciÃ³n]]></text>
			</staticText>
			<staticText>
				<reportElement x="282" y="0" width="68" height="24" uuid="9773a2c4-7040-406c-a4e2-40db1705ae26"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Tipo Gasto]]></text>
			</staticText>
			<staticText>
				<reportElement x="350" y="0" width="118" height="24" uuid="66555309-dbb5-4734-b40c-1528003a2e85"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Valor Anual (USD)]]></text>
			</staticText>
			<staticText>
				<reportElement x="468" y="0" width="64" height="24" uuid="783f1dcb-e6e5-42b7-9084-31ada7e697e6"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Valor Total (USD)]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="20" splitType="Prevent">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="190" height="20" uuid="fd5b7bcf-e6a1-4017-803d-d31fe74f67f3"/>
				<box topPadding="5" leftPadding="5" bottomPadding="5">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PARTIDA_PADRE3}+"\n"+$F{PARTIDA_PADRE2}+"\n"+$F{PARTIDA_PADRE}+"\n"+$F{PARTIDA}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="190" y="0" width="92" height="20" uuid="eab8c0e1-a843-49cf-9676-0007790c193d"/>
				<box topPadding="5" leftPadding="5" bottomPadding="5">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{DESCRIPCION}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="282" y="0" width="68" height="20" uuid="361d7a38-3e95-4ce2-9187-5b594c4bcdbf"/>
				<box topPadding="5" bottomPadding="5">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SZTVPRESUP_TIPOGASTO}=="C"?"Permanente":"No Permanente"]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="350" y="0" width="118" height="20" uuid="e6ce1c3e-2363-4d66-8763-3aab723715cb"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idPresupuesto">
					<subreportParameterExpression><![CDATA[$F{PRESUP_ID}.intValue()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idProyecto">
					<subreportParameterExpression><![CDATA[$P{idProyecto}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "perfilProyectoPresupuestoAnual.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="468" y="0" width="64" height="20" uuid="0bee9c76-bbde-4efe-92cf-75162904282a"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idPresupuesto">
					<subreportParameterExpression><![CDATA[$F{PRESUP_ID}.intValue()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idProyecto">
					<subreportParameterExpression><![CDATA[$P{idProyecto}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "perfilProyectoPresupuestoAnualTotal.jasper"]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="532" y="0" width="0" height="20" uuid="a78f5073-723f-4766-a48d-c5f5cbfe513e"/>
				<box topPadding="5" bottomPadding="5" rightPadding="5">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SZTVPRESUP_CANTIDAD}*$F{SZTVPRESUP_VALOR}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="468" y="0" width="0" height="20" uuid="6f8c3f8d-c423-4f1d-baa7-f95511da9c1c"/>
				<box topPadding="5" bottomPadding="5" rightPadding="5">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SZTVPRESUP_CANTIDAD}*$F{SZTVPRESUP_VALOR}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="14">
			<staticText>
				<reportElement x="0" y="0" width="468" height="14" uuid="12945406-cc59-4037-a6a2-c17d862f5f35"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Total:]]></text>
			</staticText>
			<elementGroup/>
			<subreport>
				<reportElement positionType="Float" x="468" y="0" width="64" height="14" uuid="9426311e-3702-4f37-94cb-2171c2596e61"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idPresupuesto">
					<subreportParameterExpression><![CDATA[$F{PRESUP_ID}.intValue()]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="idProyecto">
					<subreportParameterExpression><![CDATA[$P{idProyecto}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "perfilProyectoPresupuestoTotal.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
